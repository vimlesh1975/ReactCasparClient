(()=>{var ds=Object.create;var gt=Object.defineProperty,cs=Object.defineProperties,ms=Object.getOwnPropertyDescriptor,hs=Object.getOwnPropertyDescriptors,gs=Object.getOwnPropertyNames,Bo=Object.getOwnPropertySymbols,ys=Object.getPrototypeOf,Fo=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable;var Mr=(e,t,r)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))Fo.call(t,r)&&Mr(e,r,t[r]);if(Bo)for(var r of Bo(t))bs.call(t,r)&&Mr(e,r,t[r]);return e},E=(e,t)=>cs(e,hs(t)),Uo=e=>gt(e,"__esModule",{value:!0});var Ct=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$r=(e,t)=>{Uo(e);for(var r in t)gt(e,r,{get:t[r],enumerable:!0})},Ps=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gs(t))!Fo.call(e,o)&&o!=="default"&&gt(e,o,{get:()=>t[o],enumerable:!(r=ms(t,o))||r.enumerable});return e},kt=e=>Ps(Uo(gt(e!=null?ds(ys(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var d=(e,t,r)=>(Mr(e,typeof t!="symbol"?t+"":t,r),r);var Gn=Ct((Zy,Wn)=>{var Ru;Wn.exports=Ru=function(){function e(t,r,o,n){this.set(t,r,o,n)}return e.prototype.set=function(t,r,o,n){this._cx=3*t,this._bx=3*(o-t)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*r,this._by=3*(n-r)-this._cy,this._ay=1-this._cy-this._by},e.epsilon=1e-6,e.prototype._sampleCurveX=function(t){return((this._ax*t+this._bx)*t+this._cx)*t},e.prototype._sampleCurveY=function(t){return((this._ay*t+this._by)*t+this._cy)*t},e.prototype._sampleCurveDerivativeX=function(t){return(3*this._ax*t+2*this._bx)*t+this._cx},e.prototype._solveCurveX=function(t,r){var o,n,i,a,s,u;for(i=void 0,a=void 0,s=void 0,u=void 0,o=void 0,n=void 0,s=t,n=0;n<8;){if(u=this._sampleCurveX(s)-t,Math.abs(u)<r)return s;if(o=this._sampleCurveDerivativeX(s),Math.abs(o)<r)break;s=s-u/o,n++}if(i=0,a=1,s=t,s<i)return i;if(s>a)return a;for(;i<a;){if(u=this._sampleCurveX(s),Math.abs(u-t)<r)return s;t>u?i=s:a=s,s=(a-i)*.5+i}return s},e.prototype.solve=function(t,r){return this._sampleCurveY(this._solveCurveX(t,r))},e.prototype.solveSimple=function(t){return this._sampleCurveY(this._solveCurveX(t,1e-6))},e}()});var La=Ct((hx,Na)=>{var cr,mo;cr=[];mo=[];function xc(e,t,r){var o,n,i,a,s,u,p,l;if(e===t)return 0;if(o=e.length,n=t.length,o===0)return n;if(n===0)return o;for(r&&(e=e.toLowerCase(),t=t.toLowerCase()),p=0;p<o;)mo[p]=e.charCodeAt(p),cr[p]=++p;for(l=0;l<n;)for(i=t.charCodeAt(l),a=s=l++,p=-1;++p<o;)u=i===mo[p]?s:s+1,s=cr[p],cr[p]=a=s>a?u>a?a+1:u:u>s?s+1:u;return a}Na.exports=xc});var Ba=Ct((gx,$a)=>{var Ma=La();function Tc(){var e,t,r,o,n,i=0,a=arguments[0],s=arguments[1],u=s.length,p=arguments[2];p&&(o=p.threshold,n=p.ignoreCase),o===void 0&&(o=0);for(var l=0;l<u;++l)n?t=Ma(a,s[l],!0):t=Ma(a,s[l]),t>a.length?e=1-t/s[l].length:e=1-t/a.length,e>i&&(i=e,r=s[l]);return i>=o?r:null}$a.exports=Tc});var _o=Ct((ST,Ya)=>{"use strict";Ya.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(t)){if(o=t.length,o!=r.length)return!1;for(n=o;n--!=0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),o=i.length,o!==Object.keys(r).length)return!1;for(n=o;n--!=0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;n--!=0;){var a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var $o={};$r($o,{createRafDriver:()=>St,getProject:()=>ls,notify:()=>ne,onChange:()=>lr,types:()=>Sr,val:()=>fs});var Mo={};$r(Mo,{createRafDriver:()=>St,getProject:()=>ls,notify:()=>ne,onChange:()=>lr,types:()=>Sr,val:()=>fs});var js=Array.isArray,L=js;var _s=typeof window=="object"&&window&&window.Object===Object&&window,Dt=_s;var vs=typeof self=="object"&&self&&self.Object===Object&&self,xs=Dt||vs||Function("return this")(),N=xs;var Ts=N.Symbol,Q=Ts;var zo=Object.prototype,Ss=zo.hasOwnProperty,Is=zo.toString,yt=Q?Q.toStringTag:void 0;function As(e){var t=Ss.call(e,yt),r=e[yt];try{e[yt]=void 0;var o=!0}catch(i){}var n=Is.call(e);return o&&(t?e[yt]=r:delete e[yt]),n}var qo=As;var ws=Object.prototype,Os=ws.toString;function Cs(e){return Os.call(e)}var Wo=Cs;var ks="[object Null]",Ds="[object Undefined]",Go=Q?Q.toStringTag:void 0;function Rs(e){return e==null?e===void 0?Ds:ks:Go&&Go in Object(e)?qo(e):Wo(e)}var H=Rs;function Es(e){return e!=null&&typeof e=="object"}var J=Es;var Vs="[object Symbol]";function Ns(e){return typeof e=="symbol"||J(e)&&H(e)==Vs}var ye=Ns;var Ls=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ms=/^\w*$/;function $s(e,t){if(L(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ye(e)?!0:Ms.test(e)||!Ls.test(e)||t!=null&&e in Object(t)}var We=$s;function Bs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var U=Bs;var Fs="[object AsyncFunction]",Us="[object Function]",zs="[object GeneratorFunction]",qs="[object Proxy]";function Ws(e){if(!U(e))return!1;var t=H(e);return t==Us||t==zs||t==Fs||t==qs}var Rt=Ws;var Gs=N["__core-js_shared__"],Et=Gs;var Ko=function(){var e=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ks(e){return!!Ko&&Ko in e}var Ho=Ks;var Hs=Function.prototype,Js=Hs.toString;function Ys(e){if(e!=null){try{return Js.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var le=Ys;var Xs=/[\\^$.*+?()[\]{}|]/g,Zs=/^\[object .+?Constructor\]$/,Qs=Function.prototype,ep=Object.prototype,tp=Qs.toString,rp=ep.hasOwnProperty,op=RegExp("^"+tp.call(rp).replace(Xs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function np(e){if(!U(e)||Ho(e))return!1;var t=Rt(e)?op:Zs;return t.test(le(e))}var Jo=np;function ip(e,t){return e==null?void 0:e[t]}var Yo=ip;function ap(e,t){var r=Yo(e,t);return Jo(r)?r:void 0}var z=ap;var sp=z(Object,"create"),fe=sp;function pp(){this.__data__=fe?fe(null):{},this.size=0}var Xo=pp;function up(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Zo=up;var lp="__lodash_hash_undefined__",fp=Object.prototype,dp=fp.hasOwnProperty;function cp(e){var t=this.__data__;if(fe){var r=t[e];return r===lp?void 0:r}return dp.call(t,e)?t[e]:void 0}var Qo=cp;var mp=Object.prototype,hp=mp.hasOwnProperty;function gp(e){var t=this.__data__;return fe?t[e]!==void 0:hp.call(t,e)}var en=gp;var yp="__lodash_hash_undefined__";function bp(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fe&&t===void 0?yp:t,this}var tn=bp;function Ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Ge.prototype.clear=Xo;Ge.prototype.delete=Zo;Ge.prototype.get=Qo;Ge.prototype.has=en;Ge.prototype.set=tn;var Br=Ge;function Pp(){this.__data__=[],this.size=0}var rn=Pp;function jp(e,t){return e===t||e!==e&&t!==t}var Ke=jp;function _p(e,t){for(var r=e.length;r--;)if(Ke(e[r][0],t))return r;return-1}var be=_p;var vp=Array.prototype,xp=vp.splice;function Tp(e){var t=this.__data__,r=be(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():xp.call(t,r,1),--this.size,!0}var on=Tp;function Sp(e){var t=this.__data__,r=be(t,e);return r<0?void 0:t[r][1]}var nn=Sp;function Ip(e){return be(this.__data__,e)>-1}var an=Ip;function Ap(e,t){var r=this.__data__,o=be(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var sn=Ap;function He(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}He.prototype.clear=rn;He.prototype.delete=on;He.prototype.get=nn;He.prototype.has=an;He.prototype.set=sn;var Pe=He;var wp=z(N,"Map"),je=wp;function Op(){this.size=0,this.__data__={hash:new Br,map:new(je||Pe),string:new Br}}var pn=Op;function Cp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var un=Cp;function kp(e,t){var r=e.__data__;return un(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _e=kp;function Dp(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t}var ln=Dp;function Rp(e){return _e(this,e).get(e)}var fn=Rp;function Ep(e){return _e(this,e).has(e)}var dn=Ep;function Vp(e,t){var r=_e(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var cn=Vp;function Je(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Je.prototype.clear=pn;Je.prototype.delete=ln;Je.prototype.get=fn;Je.prototype.has=dn;Je.prototype.set=cn;var De=Je;var Np="Expected a function";function Fr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Np);var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],i=r.cache;if(i.has(n))return i.get(n);var a=e.apply(this,o);return r.cache=i.set(n,a)||i,a};return r.cache=new(Fr.Cache||De),r}Fr.Cache=De;var mn=Fr;var Lp=500;function Mp(e){var t=mn(e,function(o){return r.size===Lp&&r.clear(),o}),r=t.cache;return t}var hn=Mp;var $p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bp=/\\(\\)?/g,Fp=hn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($p,function(r,o,n,i){t.push(n?i.replace(Bp,"$1"):o||r)}),t}),gn=Fp;function Up(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var yn=Up;var zp=1/0,bn=Q?Q.prototype:void 0,Pn=bn?bn.toString:void 0;function jn(e){if(typeof e=="string")return e;if(L(e))return yn(e,jn)+"";if(ye(e))return Pn?Pn.call(e):"";var t=e+"";return t=="0"&&1/e==-zp?"-0":t}var Vt=jn;function qp(e){return e==null?"":Vt(e)}var Nt=qp;function Wp(e,t){return L(e)?e:We(e,t)?[e]:gn(Nt(e))}var Ye=Wp;var Gp=1/0;function Kp(e){if(typeof e=="string"||ye(e))return e;var t=e+"";return t=="0"&&1/e==-Gp?"-0":t}var ae=Kp;function Hp(e,t){t=Ye(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[ae(t[r++])];return r&&r==o?e:void 0}var Lt=Hp;function Jp(e,t,r){var o=e==null?void 0:Lt(e,t);return o===void 0?r:o}var Xe=Jp;function Yp(e,t){return function(r){return e(t(r))}}var Mt=Yp;var Xp=Mt(Object.getPrototypeOf,Object),_n=Xp;var Zp="[object Object]",Qp=Function.prototype,eu=Object.prototype,vn=Qp.toString,tu=eu.hasOwnProperty,ru=vn.call(Object);function ou(e){if(!J(e)||H(e)!=Zp)return!1;var t=_n(e);if(t===null)return!0;var r=tu.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&vn.call(r)==ru}var bt=ou;function nu(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xn=nu;function ve(e){return e&&e.isPrism&&e.isPrism===!0}var Ur=new WeakMap,Tn=new WeakMap,Sn=Symbol("pointerMeta"),iu={get(e,t){if(t===Sn)return Ur.get(e);let r=Tn.get(e);r||(r=new Map,Tn.set(e,r));let o=r.get(t);if(o!==void 0)return o;let n=Ur.get(e),i=In({root:n.root,path:[...n.path,t]});return r.set(t,i),i}},$t=e=>e[Sn],xe=e=>{let{root:t,path:r}=$t(e);return{root:t,path:r}};function In(e){var o;let t={root:e.root,path:(o=e.path)!=null?o:[]},r={};return Ur.set(r,t),new Proxy(r,iu)}var de=In,Te=e=>e&&!!$t(e);function zr(e,t,r){return t.length===0?r(e):Bt(e,t,r)}var Bt=(e,t,r)=>{if(t.length===0)return r(e);if(Array.isArray(e)){let[o,...n]=t;o=parseInt(String(o),10),isNaN(o)&&(o=0);let i=e[o],a=Bt(i,n,r);if(i===a)return e;let s=[...e];return s.splice(o,1,a),s}else if(typeof e=="object"&&e!==null){let[o,...n]=t,i=e[o],a=Bt(i,n,r);return i===a?e:E(b({},e),{[o]:a})}else{let[o,...n]=t;return{[o]:Bt(void 0,n,r)}}};var Ze=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){let t=this._head;if(!!t)return this._head=t.next,t.data}push(t){let r={next:this._head,data:t};this._head=r}};function An(){let e=()=>{},t=new Ze,r=e;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{t.push(r)},stopIgnoringDependencies:()=>{t.peek()!==r||t.pop()},reportResolutionStart:p=>{let l=t.peek();l&&l(p),t.push(r)},reportResolutionEnd:p=>{t.pop()},pushCollector:p=>{t.push(p)},popCollector:p=>{if(t.peek()!==p)throw new Error("Popped collector is not on top of the stack");t.pop()}}}function au(){let e="__dataverse_discoveryMechanism_sharedStack",t=typeof window!="undefined"||typeof window!="undefined"?window:{};if(t){let r=t[e];if(r&&typeof r=="object"&&r.type==="Dataverse_discoveryMechanism")return r;{let o=An();return t[e]=o,o}}else return An()}var{startIgnoringDependencies:Qe,stopIgnoringDependencies:et,reportResolutionEnd:wn,reportResolutionStart:On,pushCollector:Cn,popCollector:kn}=au();var Dn=()=>{},Rn=class{constructor(t,r){this._fn=t;this._prismInstance=r;this._didMarkDependentsAsStale=!1;this._isFresh=!1;this._cacheOfDendencyValues=new Map;this._dependents=new Set;this._dependencies=new Set;this._possiblyStaleDeps=new Set;this._scope=new Ft(this);this._lastValue=void 0;this._forciblySetToStale=!1;this._reactToDependencyGoingStale=t=>{this._possiblyStaleDeps.add(t),this._markAsStale()};for(let o of this._dependencies)o._addDependent(this._reactToDependencyGoingStale);Qe(),this.getValue(),et()}get hasDependents(){return this._dependents.size>0}removeDependent(t){this._dependents.delete(t)}addDependent(t){this._dependents.add(t)}destroy(){for(let t of this._dependencies)t._removeDependent(this._reactToDependencyGoingStale);Vn(this._scope)}getValue(){if(!this._isFresh){let t=this._recalculate();this._lastValue=t,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let t;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let n=!1;Qe();for(let i of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(i)!==i.getValue()){n=!0;break}if(et(),this._possiblyStaleDeps.clear(),!n)return this._lastValue}let r=new Set;this._cacheOfDendencyValues.clear();let o=n=>{r.add(n),this._addDependency(n)};Cn(o),q.push(this._scope);try{t=this._fn()}catch(n){console.error(n)}finally{q.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}kn(o);for(let n of this._dependencies)r.has(n)||this._removeDependency(n);this._dependencies=r,Qe();for(let n of r)this._cacheOfDendencyValues.set(n,n.getValue());return et(),t}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(let t of this._dependents)t(this._prismInstance)}}_addDependency(t){this._dependencies.has(t)||(this._dependencies.add(t),t._addDependent(this._reactToDependencyGoingStale))}_removeDependency(t){!this._dependencies.has(t)||(this._dependencies.delete(t),t._removeDependent(this._reactToDependencyGoingStale))}},su={},En=class{constructor(t){this._fn=t;this.isPrism=!0;this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(t,r,o=!1){let n=()=>{t.onThisOrNextTick(a)},i=su,a=()=>{let u=this.getValue();u!==i&&(i=u,r(u))};return this._addDependent(n),o&&(i=this.getValue(),r(i)),()=>{this._removeDependent(n)}}onStale(t){let r=()=>{this._removeDependent(o)},o=()=>t();return this._addDependent(o),r}keepHot(){return this.onStale(()=>{})}_addDependent(t){this._state.hot||this._goHot(),this._state.handle.addDependent(t)}_goHot(){let t=new Rn(this._fn,this);this._state={hot:!0,handle:t}}_removeDependent(t){let r=this._state;if(!r.hot)return;let o=r.handle;o.removeDependent(t),o.hasDependents||(this._state={hot:!1,handle:void 0},o.destroy())}getValue(){On(this);let t=this._state,r;return t.hot?r=t.handle.getValue():r=gu(this._fn),wn(this),r}},Ft=class{constructor(t){this._hotHandle=t;this._refs=new Map;this.isPrismScope=!0;this.subs={};this.effects=new Map;this.memos=new Map}ref(t,r){let o=this._refs.get(t);if(o!==void 0)return o;{let n={current:r};return this._refs.set(t,n),n}}effect(t,r,o){let n=this.effects.get(t);n===void 0&&(n={cleanup:Dn,deps:void 0},this.effects.set(t,n)),Nn(n.deps,o)&&(n.cleanup(),Qe(),n.cleanup=Ut(r,Dn).value,et(),n.deps=o)}memo(t,r,o){let n=this.memos.get(t);return n===void 0&&(n={cachedValue:null,deps:void 0},this.memos.set(t,n)),Nn(n.deps,o)&&(Qe(),n.cachedValue=Ut(r,void 0).value,et(),n.deps=o),n.cachedValue}state(t,r){let{value:o,setValue:n}=this.memo("state/"+t,()=>{let i={current:r};return{value:i,setValue:s=>{i.current=s,this._hotHandle.forceStale()}}},[]);return[o.current,n]}sub(t){return this.subs[t]||(this.subs[t]=new Ft(this._hotHandle)),this.subs[t]}cleanupEffects(){for(let t of this.effects.values())Ut(t.cleanup,void 0);this.effects.clear()}source(t,r){let o="$$source/blah";return this.effect(o,()=>t(()=>{this._hotHandle.forceStale()}),[t]),r()}};function Vn(e){for(let t of Object.values(e.subs))Vn(t);e.cleanupEffects()}function Ut(e,t){try{return{value:e(),ok:!0}}catch(r){return setTimeout(function(){throw r}),{value:t,ok:!1}}}var q=new Ze;function pu(e,t){let r=q.peek();if(!r)throw new Error("prism.ref() is called outside of a prism() call.");return r.ref(e,t)}function uu(e,t,r){let o=q.peek();if(!o)throw new Error("prism.effect() is called outside of a prism() call.");return o.effect(e,t,r)}function Nn(e,t){if(e===void 0||t===void 0)return!0;let r=e.length;if(r!==t.length)return!0;for(let o=0;o<r;o++)if(e[o]!==t[o])return!0;return!1}function Ln(e,t,r){let o=q.peek();if(!o)throw new Error("prism.memo() is called outside of a prism() call.");return o.memo(e,t,r)}function lu(e,t){let r=q.peek();if(!r)throw new Error("prism.state() is called outside of a prism() call.");return r.state(e,t)}function fu(){if(!q.peek())throw new Error("The parent function is called outside of a prism() call.")}function du(e,t){let r=q.peek();if(!r)throw new Error("prism.scope() is called outside of a prism() call.");let o=r.sub(e);q.push(o);let n=Ut(t,void 0).value;return q.pop(),n}function cu(e,t,r){return Ln(e,()=>oe(t),r).getValue()}function mu(){return!!q.peek()}function hu(e,t){let r=q.peek();if(!r)throw new Error("prism.source() is called outside of a prism() call.");return r.source(e,t)}var oe=e=>new En(e),zt=class{effect(t,r,o){console.warn("prism.effect() does not run in cold prisms")}memo(t,r,o){return r()}state(t,r){return[r,()=>{}]}ref(t,r){return{current:r}}sub(t){return new zt}source(t,r){return r()}};function gu(e){let t=new zt;q.push(t);let r;try{r=e()}catch(o){console.error(o)}finally{q.pop()!==t&&console.warn("The Prism hook stack has slipped. This is a bug.")}return r}oe.ref=pu;oe.effect=uu;oe.memo=Ln;oe.ensurePrism=fu;oe.state=lu;oe.scope=du;oe.sub=cu;oe.inPrism=mu;oe.source=hu;var g=oe;var Se;(function(o){o[o.Dict=0]="Dict",o[o.Array=1]="Array",o[o.Other=2]="Other"})(Se||(Se={}));var qr=e=>Array.isArray(e)?1:bt(e)?0:2,Mn=(e,t,r=qr(e))=>r===0&&typeof t=="string"||r===1&&yu(t)?e[t]:void 0,yu=e=>{let t=typeof e=="number"?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(t|0)===t},qt=class{constructor(t,r){this._parent=t;this._path=r;this.children=new Map;this.identityChangeListeners=new Set}addIdentityChangeListener(t){this.identityChangeListeners.add(t)}removeIdentityChangeListener(t){this.identityChangeListeners.delete(t),this._checkForGC()}removeChild(t){this.children.delete(t),this._checkForGC()}getChild(t){return this.children.get(t)}getOrCreateChild(t){let r=this.children.get(t);return r||(r=r=new qt(this,this._path.concat([t])),this.children.set(t,r)),r}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(xn(this._path))}},I=class{constructor(t){this.$$isIdentityPrismProvider=!0;this.prism=this.getIdentityPrism([]);this._onPathValueChange=(t,r)=>{let o=this._getOrCreateScopeForPath(t);return o.identityChangeListeners.add(r),()=>{o.identityChangeListeners.delete(r)}};this._currentState=t,this._rootScope=new qt(void 0,[]),this.pointer=de({root:this,path:[]})}set(t){let r=this._currentState;this._currentState=t,this._checkUpdates(this._rootScope,r,t)}get(){return this._currentState}getByPointer(t){let r=t(this.pointer),o=xe(r).path;return this._getIn(o)}_getIn(t){return t.length===0?this.get():Xe(this.get(),t)}reduce(t){this.set(t(this.get()))}reduceByPointer(t,r){let o=t(this.pointer),n=xe(o).path,i=zr(this.get(),n,r);this.set(i)}setByPointer(t,r){this.reduceByPointer(t,()=>r)}_checkUpdates(t,r,o){if(r===o)return;for(let a of t.identityChangeListeners)a(o);if(t.children.size===0)return;let n=qr(r),i=qr(o);if(!(n===2&&n===i))for(let[a,s]of t.children){let u=Mn(r,a,n),p=Mn(o,a,i);this._checkUpdates(s,u,p)}}_getOrCreateScopeForPath(t){let r=this._rootScope;for(let o of t)r=r.getOrCreateChild(o);return r}getIdentityPrism(t){let r=n=>this._onPathValueChange(t,n),o=()=>this._getIn(t);return g(()=>g.source(r,o))}},$n=new WeakMap,Re=e=>{let t=$t(e),r=$n.get(t);if(!r){let o=t.root;if(!bu(o))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an IdentityPrismProvider");let{path:n}=t;r=o.getIdentityPrism(n),$n.set(t,r)}return r};function bu(e){return typeof e=="object"&&e!==null&&e.$$isIdentityPrismProvider===!0}var P=e=>Te(e)?Re(e).getValue():ve(e)?e.getValue():e;var Pu=60*3,tt=class{constructor(t){this._conf=t;this._ticking=!1;this._dormant=!0;this._numberOfDormantTicks=0;this.__ticks=0;this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(t){this._scheduledForThisOrNextTick.add(t),this._dormant&&this._goActive()}onNextTick(t){this._scheduledForNextTick.add(t),this._dormant&&this._goActive()}offThisOrNextTick(t){this._scheduledForThisOrNextTick.delete(t)}offNextTick(t){this._scheduledForNextTick.delete(t)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var t,r;!this._dormant||(this._dormant=!1,(r=(t=this._conf)==null?void 0:t.onActive)==null||r.call(t))}_goDormant(){var t,r;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(r=(t=this._conf)==null?void 0:t.onDormant)==null||r.call(t))}tick(t=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Pu)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=t;for(let r of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(r);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(t){let r=this.time;if(t>10&&console.warn("_tick() recursing for 10 times"),t>100)throw new Error("Maximum recursion limit for _tick()");let o=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(let n of o)n(r);if(this._scheduledForThisOrNextTick.size>0)return this._tick(t+1)}};var Ee=class{constructor(t){this.$$isIdentityPrismProvider=!0;this._currentPointerBox=new I(t),this.pointer=de({root:this,path:[]})}setPointer(t){this._currentPointerBox.set(t)}getIdentityPrism(t){return g(()=>{let r=this._currentPointerBox.prism.getValue(),o=t.reduce((n,i)=>n[i],r);return P(o)})}};var Bn=class{constructor(){d(this,"atom",new I({projects:{}}))}add(t,r){this.atom.setByPointer(o=>o.projects[t],r)}get(t){return this.atom.get().projects[t]}has(t){return!!this.get(t)}},ju=new Bn,rt=ju;var Fn=new WeakMap;function j(e){return Fn.get(e)}function se(e,t){Fn.set(e,t)}var Wt=[];function Wr(e,t){return t.length===0?e:Xe(e,t)}var Ie=class{constructor(){d(this,"_values",{})}get(t,r){if(this.has(t))return this._values[t];{let o=r();return this._values[t]=o,o}}has(t){return this._values.hasOwnProperty(t)}};var _u=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Gr=_u;function vu(e,t,r){t=="__proto__"&&Gr?Gr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Gt=vu;var xu=Object.prototype,Tu=xu.hasOwnProperty;function Su(e,t,r){var o=e[t];(!(Tu.call(e,t)&&Ke(o,r))||r===void 0&&!(t in e))&&Gt(e,t,r)}var Un=Su;var Iu=9007199254740991,Au=/^(?:0|[1-9]\d*)$/;function wu(e,t){var r=typeof e;return t=t==null?Iu:t,!!t&&(r=="number"||r!="symbol"&&Au.test(e))&&e>-1&&e%1==0&&e<t}var ot=wu;function Ou(e,t,r,o){if(!U(e))return e;t=Ye(t,e);for(var n=-1,i=t.length,a=i-1,s=e;s!=null&&++n<i;){var u=ae(t[n]),p=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(n!=a){var l=s[u];p=o?o(l,u,s):void 0,p===void 0&&(p=U(l)?l:ot(t[n+1])?[]:{})}Un(s,u,p),s=s[u]}return e}var zn=Ou;function Cu(e,t,r){return e==null?e:zn(e,t,r)}var qn=Cu;var Kr=new WeakMap;function Hr(e){return Jr(e)}function Jr(e){if(Kr.has(e))return Kr.get(e);let t=e.type==="compound"?Du(e):e.type==="enum"?ku(e):e.default;return Kr.set(e,t),t}function ku(e){let t={$case:e.defaultCase};for(let[r,o]of Object.entries(e.cases))t[r]=Jr(o);return t}function Du(e){let t={};for(let[r,o]of Object.entries(e.props))t[r]=Jr(o);return t}var Kn=kt(Gn());function Yr(e,t,r){return g(()=>{let o=P(t);return g.memo("driver",()=>o?o.type==="BasicKeyframedTrack"?Eu(e,o,r):(e.logger.error("Track type not yet supported."),g(()=>{})):g(()=>{}),[o]).getValue()})}function Eu(e,t,r){return g(()=>{let o=g.ref("state",{started:!1}),n=o.current,i=r.getValue();return(!n.started||i<n.validFrom||n.validTo<=i)&&(o.current=n=Vu(e,r,t)),n.der.getValue()})}var Hn=g(()=>{});function Vu(e,t,r){let o=t.getValue();if(r.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Hn};let n=0;for(;;){let i=r.keyframes[n];if(!i)return Ve.error;let a=n===r.keyframes.length-1;if(o<i.position)return n===0?Ve.beforeFirstKeyframe(i):Ve.error;if(i.position===o)return a?Ve.lastKeyframe(i):Ve.between(i,r.keyframes[n+1],t);if(n===r.keyframes.length-1)return Ve.lastKeyframe(i);{let s=n+1;if(r.keyframes[s].position<=o){n=s;continue}else return Ve.between(i,r.keyframes[n+1],t)}}}var Ve={beforeFirstKeyframe(e){return{started:!0,validFrom:-1/0,validTo:e.position,der:g(()=>({left:e.value,progression:0}))}},lastKeyframe(e){return{started:!0,validFrom:e.position,validTo:1/0,der:g(()=>({left:e.value,progression:0}))}},between(e,t,r){if(!e.connectedRight)return{started:!0,validFrom:e.position,validTo:t.position,der:g(()=>({left:e.value,progression:0}))};let o=i=>(i-e.position)/(t.position-e.position);if(!e.type||e.type==="bezier"){let i=new Kn.default(e.handles[2],e.handles[3],t.handles[0],t.handles[1]),a=g(()=>{let s=o(r.getValue()),u=i.solveSimple(s);return{left:e.value,right:t.value,progression:u}});return{started:!0,validFrom:e.position,validTo:t.position,der:a}}let n=g(()=>{let i=o(r.getValue()),a=Math.floor(i);return{left:e.value,right:t.value,progression:a}});return{started:!0,validFrom:e.position,validTo:t.position,der:n}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Hn}};function nt(e,t,r){let n=r.get(e);if(n&&n.override===t)return n.merged;let i=b({},e);for(let a of Object.keys(t)){let s=t[a],u=e[a];i[a]=typeof s=="object"&&typeof u=="object"?nt(u,s,r):s===void 0?u:s}return r.set(e,{override:t,merged:i}),i}function Ne(e,t){let r=e;for(let o of t)r=r[o];return r}var Jn=(e,t)=>{let r=g.memo(e,()=>new I(t),[]);return r.set(t),r};var Nu=/\s/;function Lu(e){for(var t=e.length;t--&&Nu.test(e.charAt(t)););return t}var Yn=Lu;var Mu=/^\s+/;function $u(e){return e&&e.slice(0,Yn(e)+1).replace(Mu,"")}var Xn=$u;var Zn=0/0,Bu=/^[-+]0x[0-9a-f]+$/i,Fu=/^0b[01]+$/i,Uu=/^0o[0-7]+$/i,zu=parseInt;function qu(e){if(typeof e=="number")return e;if(ye(e))return Zn;if(U(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xn(e);var r=Fu.test(e);return r||Uu.test(e)?zu(e.slice(2),r?2:8):Bu.test(e)?Zn:+e}var ce=qu;var Qn=1/0,Wu=17976931348623157e292;function Gu(e){if(!e)return e===0?e:0;if(e=ce(e),e===Qn||e===-Qn){var t=e<0?-1:1;return t*Wu}return e===e?e:0}var ei=Gu;function Ku(e){var t=ei(e),r=t%1;return t===t?r?t-r:t:0}var Kt=Ku;function Hu(e){return e}var ti=Hu;var Ju=z(N,"WeakMap"),Ht=Ju;var Yu=9007199254740991;function Xu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yu}var it=Xu;function Zu(e){return e!=null&&it(e.length)&&!Rt(e)}var ri=Zu;var Qu=Object.prototype;function el(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qu;return e===r}var oi=el;function tl(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var ni=tl;var rl="[object Arguments]";function ol(e){return J(e)&&H(e)==rl}var Xr=ol;var ii=Object.prototype,nl=ii.hasOwnProperty,il=ii.propertyIsEnumerable,al=Xr(function(){return arguments}())?Xr:function(e){return J(e)&&nl.call(e,"callee")&&!il.call(e,"callee")},Jt=al;function sl(){return!1}var ai=sl;var si=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pi=si&&typeof module=="object"&&module&&!module.nodeType&&module,pl=pi&&pi.exports===si,ui=pl?N.Buffer:void 0,ul=ui?ui.isBuffer:void 0,ll=ul||ai,Pt=ll;var fl="[object Arguments]",dl="[object Array]",cl="[object Boolean]",ml="[object Date]",hl="[object Error]",gl="[object Function]",yl="[object Map]",bl="[object Number]",Pl="[object Object]",jl="[object RegExp]",_l="[object Set]",vl="[object String]",xl="[object WeakMap]",Tl="[object ArrayBuffer]",Sl="[object DataView]",Il="[object Float32Array]",Al="[object Float64Array]",wl="[object Int8Array]",Ol="[object Int16Array]",Cl="[object Int32Array]",kl="[object Uint8Array]",Dl="[object Uint8ClampedArray]",Rl="[object Uint16Array]",El="[object Uint32Array]",D={};D[Il]=D[Al]=D[wl]=D[Ol]=D[Cl]=D[kl]=D[Dl]=D[Rl]=D[El]=!0;D[fl]=D[dl]=D[Tl]=D[cl]=D[Sl]=D[ml]=D[hl]=D[gl]=D[yl]=D[bl]=D[Pl]=D[jl]=D[_l]=D[vl]=D[xl]=!1;function Vl(e){return J(e)&&it(e.length)&&!!D[H(e)]}var li=Vl;function Nl(e){return function(t){return e(t)}}var fi=Nl;var di=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=di&&typeof module=="object"&&module&&!module.nodeType&&module,Ll=jt&&jt.exports===di,Zr=Ll&&Dt.process,Ml=function(){try{var e=jt&&jt.require&&jt.require("util").types;return e||Zr&&Zr.binding&&Zr.binding("util")}catch(t){}}(),Qr=Ml;var ci=Qr&&Qr.isTypedArray,$l=ci?fi(ci):li,Yt=$l;var Bl=Object.prototype,Fl=Bl.hasOwnProperty;function Ul(e,t){var r=L(e),o=!r&&Jt(e),n=!r&&!o&&Pt(e),i=!r&&!o&&!n&&Yt(e),a=r||o||n||i,s=a?ni(e.length,String):[],u=s.length;for(var p in e)(t||Fl.call(e,p))&&!(a&&(p=="length"||n&&(p=="offset"||p=="parent")||i&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||ot(p,u)))&&s.push(p);return s}var mi=Ul;var zl=Mt(Object.keys,Object),hi=zl;var ql=Object.prototype,Wl=ql.hasOwnProperty;function Gl(e){if(!oi(e))return hi(e);var t=[];for(var r in Object(e))Wl.call(e,r)&&r!="constructor"&&t.push(r);return t}var gi=Gl;function Kl(e){return ri(e)?mi(e):gi(e)}var at=Kl;function Hl(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var yi=Hl;function Jl(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(n);++o<n;)i[o]=e[o+t];return i}var bi=Jl;function Yl(e,t,r){var o=e.length;return r=r===void 0?o:r,!t&&r>=o?e:bi(e,t,r)}var Pi=Yl;var Xl="\\ud800-\\udfff",Zl="\\u0300-\\u036f",Ql="\\ufe20-\\ufe2f",ef="\\u20d0-\\u20ff",tf=Zl+Ql+ef,rf="\\ufe0e\\ufe0f",of="\\u200d",nf=RegExp("["+of+Xl+tf+rf+"]");function af(e){return nf.test(e)}var st=af;function sf(e){return e.split("")}var ji=sf;var _i="\\ud800-\\udfff",pf="\\u0300-\\u036f",uf="\\ufe20-\\ufe2f",lf="\\u20d0-\\u20ff",ff=pf+uf+lf,df="\\ufe0e\\ufe0f",cf="["+_i+"]",eo="["+ff+"]",to="\\ud83c[\\udffb-\\udfff]",mf="(?:"+eo+"|"+to+")",vi="[^"+_i+"]",xi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ti="[\\ud800-\\udbff][\\udc00-\\udfff]",hf="\\u200d",Si=mf+"?",Ii="["+df+"]?",gf="(?:"+hf+"(?:"+[vi,xi,Ti].join("|")+")"+Ii+Si+")*",yf=Ii+Si+gf,bf="(?:"+[vi+eo+"?",eo,xi,Ti,cf].join("|")+")",Pf=RegExp(to+"(?="+to+")|"+bf+yf,"g");function jf(e){return e.match(Pf)||[]}var Ai=jf;function _f(e){return st(e)?Ai(e):ji(e)}var wi=_f;function vf(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),t!==void 0&&(e=e>=t?e:t)),e}var Oi=vf;function xf(e,t,r){return r===void 0&&(r=t,t=void 0),r!==void 0&&(r=ce(r),r=r===r?r:0),t!==void 0&&(t=ce(t),t=t===t?t:0),Oi(ce(e),t,r)}var _t=xf;function Tf(){this.__data__=new Pe,this.size=0}var Ci=Tf;function Sf(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ki=Sf;function If(e){return this.__data__.get(e)}var Di=If;function Af(e){return this.__data__.has(e)}var Ri=Af;var wf=200;function Of(e,t){var r=this.__data__;if(r instanceof Pe){var o=r.__data__;if(!je||o.length<wf-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new De(o)}return r.set(e,t),this.size=r.size,this}var Ei=Of;function pt(e){var t=this.__data__=new Pe(e);this.size=t.size}pt.prototype.clear=Ci;pt.prototype.delete=ki;pt.prototype.get=Di;pt.prototype.has=Ri;pt.prototype.set=Ei;var ut=pt;function Cf(e,t){for(var r=-1,o=e==null?0:e.length,n=0,i=[];++r<o;){var a=e[r];t(a,r,e)&&(i[n++]=a)}return i}var Vi=Cf;function kf(){return[]}var Ni=kf;var Df=Object.prototype,Rf=Df.propertyIsEnumerable,Li=Object.getOwnPropertySymbols,Ef=Li?function(e){return e==null?[]:(e=Object(e),Vi(Li(e),function(t){return Rf.call(e,t)}))}:Ni,Mi=Ef;function Vf(e,t,r){var o=t(e);return L(e)?o:yi(o,r(e))}var $i=Vf;function Nf(e){return $i(e,at,Mi)}var ro=Nf;var Lf=z(N,"DataView"),Xt=Lf;var Mf=z(N,"Promise"),Zt=Mf;var $f=z(N,"Set"),Qt=$f;var Bi="[object Map]",Bf="[object Object]",Fi="[object Promise]",Ui="[object Set]",zi="[object WeakMap]",qi="[object DataView]",Ff=le(Xt),Uf=le(je),zf=le(Zt),qf=le(Qt),Wf=le(Ht),Le=H;(Xt&&Le(new Xt(new ArrayBuffer(1)))!=qi||je&&Le(new je)!=Bi||Zt&&Le(Zt.resolve())!=Fi||Qt&&Le(new Qt)!=Ui||Ht&&Le(new Ht)!=zi)&&(Le=function(e){var t=H(e),r=t==Bf?e.constructor:void 0,o=r?le(r):"";if(o)switch(o){case Ff:return qi;case Uf:return Bi;case zf:return Fi;case qf:return Ui;case Wf:return zi}return t});var oo=Le;var Gf=N.Uint8Array,no=Gf;var Kf="__lodash_hash_undefined__";function Hf(e){return this.__data__.set(e,Kf),this}var Wi=Hf;function Jf(e){return this.__data__.has(e)}var Gi=Jf;function er(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new De;++t<r;)this.add(e[t])}er.prototype.add=er.prototype.push=Wi;er.prototype.has=Gi;var Ki=er;function Yf(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}var Hi=Yf;function Xf(e,t){return e.has(t)}var Ji=Xf;var Zf=1,Qf=2;function ed(e,t,r,o,n,i){var a=r&Zf,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var p=i.get(e),l=i.get(t);if(p&&l)return p==t&&l==e;var c=-1,h=!0,f=r&Qf?new Ki:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var y=e[c],v=t[c];if(o)var x=a?o(v,y,c,t,e,i):o(y,v,c,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(f){if(!Hi(t,function(_,T){if(!Ji(f,T)&&(y===_||n(y,_,r,o,i)))return f.push(T)})){h=!1;break}}else if(!(y===v||n(y,v,r,o,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var tr=ed;function td(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}var Yi=td;function rd(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var Xi=rd;var od=1,nd=2,id="[object Boolean]",ad="[object Date]",sd="[object Error]",pd="[object Map]",ud="[object Number]",ld="[object RegExp]",fd="[object Set]",dd="[object String]",cd="[object Symbol]",md="[object ArrayBuffer]",hd="[object DataView]",Zi=Q?Q.prototype:void 0,io=Zi?Zi.valueOf:void 0;function gd(e,t,r,o,n,i,a){switch(r){case hd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case md:return!(e.byteLength!=t.byteLength||!i(new no(e),new no(t)));case id:case ad:case ud:return Ke(+e,+t);case sd:return e.name==t.name&&e.message==t.message;case ld:case dd:return e==t+"";case pd:var s=Yi;case fd:var u=o&od;if(s||(s=Xi),e.size!=t.size&&!u)return!1;var p=a.get(e);if(p)return p==t;o|=nd,a.set(e,t);var l=tr(s(e),s(t),o,n,i,a);return a.delete(e),l;case cd:if(io)return io.call(e)==io.call(t)}return!1}var Qi=gd;var yd=1,bd=Object.prototype,Pd=bd.hasOwnProperty;function jd(e,t,r,o,n,i){var a=r&yd,s=ro(e),u=s.length,p=ro(t),l=p.length;if(u!=l&&!a)return!1;for(var c=u;c--;){var h=s[c];if(!(a?h in t:Pd.call(t,h)))return!1}var f=i.get(e),y=i.get(t);if(f&&y)return f==t&&y==e;var v=!0;i.set(e,t),i.set(t,e);for(var x=a;++c<u;){h=s[c];var _=e[h],T=t[h];if(o)var w=a?o(T,_,h,t,e,i):o(_,T,h,e,t,i);if(!(w===void 0?_===T||n(_,T,r,o,i):w)){v=!1;break}x||(x=h=="constructor")}if(v&&!x){var $=e.constructor,B=t.constructor;$!=B&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof B=="function"&&B instanceof B)&&(v=!1)}return i.delete(e),i.delete(t),v}var ea=jd;var _d=1,ta="[object Arguments]",ra="[object Array]",rr="[object Object]",vd=Object.prototype,oa=vd.hasOwnProperty;function xd(e,t,r,o,n,i){var a=L(e),s=L(t),u=a?ra:oo(e),p=s?ra:oo(t);u=u==ta?rr:u,p=p==ta?rr:p;var l=u==rr,c=p==rr,h=u==p;if(h&&Pt(e)){if(!Pt(t))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new ut),a||Yt(e)?tr(e,t,r,o,n,i):Qi(e,t,u,r,o,n,i);if(!(r&_d)){var f=l&&oa.call(e,"__wrapped__"),y=c&&oa.call(t,"__wrapped__");if(f||y){var v=f?e.value():e,x=y?t.value():t;return i||(i=new ut),n(v,x,r,o,i)}}return h?(i||(i=new ut),ea(e,t,r,o,n,i)):!1}var na=xd;function ia(e,t,r,o,n){return e===t?!0:e==null||t==null||!J(e)&&!J(t)?e!==e&&t!==t:na(e,t,r,o,ia,n)}var or=ia;var Td=1,Sd=2;function Id(e,t,r,o){var n=r.length,i=n,a=!o;if(e==null)return!i;for(e=Object(e);n--;){var s=r[n];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<i;){s=r[n];var u=s[0],p=e[u],l=s[1];if(a&&s[2]){if(p===void 0&&!(u in e))return!1}else{var c=new ut;if(o)var h=o(p,l,u,e,t,c);if(!(h===void 0?or(l,p,Td|Sd,o,c):h))return!1}}return!0}var aa=Id;function Ad(e){return e===e&&!U(e)}var nr=Ad;function wd(e){for(var t=at(e),r=t.length;r--;){var o=t[r],n=e[o];t[r]=[o,n,nr(n)]}return t}var sa=wd;function Od(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ir=Od;function Cd(e){var t=sa(e);return t.length==1&&t[0][2]?ir(t[0][0],t[0][1]):function(r){return r===e||aa(r,e,t)}}var pa=Cd;function kd(e,t){return e!=null&&t in Object(e)}var ua=kd;function Dd(e,t,r){t=Ye(t,e);for(var o=-1,n=t.length,i=!1;++o<n;){var a=ae(t[o]);if(!(i=e!=null&&r(e,a)))break;e=e[a]}return i||++o!=n?i:(n=e==null?0:e.length,!!n&&it(n)&&ot(a,n)&&(L(e)||Jt(e)))}var la=Dd;function Rd(e,t){return e!=null&&la(e,t,ua)}var fa=Rd;var Ed=1,Vd=2;function Nd(e,t){return We(e)&&nr(t)?ir(ae(e),t):function(r){var o=Xe(r,e);return o===void 0&&o===t?fa(r,e):or(t,o,Ed|Vd)}}var da=Nd;function Ld(e){return function(t){return t==null?void 0:t[e]}}var ar=Ld;function Md(e){return function(t){return Lt(t,e)}}var ca=Md;function $d(e){return We(e)?ar(ae(e)):ca(e)}var ma=$d;function Bd(e){return typeof e=="function"?e:e==null?ti:typeof e=="object"?L(e)?da(e[0],e[1]):pa(e):ma(e)}var ha=Bd;function Fd(e){return function(t,r,o){for(var n=-1,i=Object(t),a=o(t),s=a.length;s--;){var u=a[e?s:++n];if(r(i[u],u,i)===!1)break}return t}}var ga=Fd;var Ud=ga(),ya=Ud;function zd(e,t){return e&&ya(e,t,at)}var ba=zd;var qd=function(){return N.Date.now()},sr=qd;var Wd="Expected a function",Gd=Math.max,Kd=Math.min;function Hd(e,t,r){var o,n,i,a,s,u,p=0,l=!1,c=!1,h=!0;if(typeof e!="function")throw new TypeError(Wd);t=ce(t)||0,U(r)&&(l=!!r.leading,c="maxWait"in r,i=c?Gd(ce(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function f(A){var F=o,G=n;return o=n=void 0,p=A,a=e.apply(G,F),a}function y(A){return p=A,s=setTimeout(_,t),l?f(A):a}function v(A){var F=A-u,G=A-p,ie=t-F;return c?Kd(ie,i-G):ie}function x(A){var F=A-u,G=A-p;return u===void 0||F>=t||F<0||c&&G>=i}function _(){var A=sr();if(x(A))return T(A);s=setTimeout(_,v(A))}function T(A){return s=void 0,h&&o?f(A):(o=n=void 0,a)}function w(){s!==void 0&&clearTimeout(s),p=0,o=u=n=s=void 0}function $(){return s===void 0?a:T(sr())}function B(){var A=sr(),F=x(A);if(o=arguments,n=this,u=A,F){if(s===void 0)return y(u);if(c)return clearTimeout(s),s=setTimeout(_,t),f(u)}return s===void 0&&(s=setTimeout(_,t)),a}return B.cancel=w,B.flush=$,B}var ao=Hd;function Jd(e){return typeof e=="number"&&e==Kt(e)}var so=Jd;function Yd(e,t){var r={};return t=ha(t,3),ba(e,function(o,n,i){Gt(r,n,t(o,n,i))}),r}var po=Yd;var Xd=9007199254740991,Zd=Math.floor;function Qd(e,t){var r="";if(!e||t<1||t>Xd)return r;do t%2&&(r+=e),t=Zd(t/2),t&&(e+=e);while(t);return r}var uo=Qd;var ec=ar("length"),Pa=ec;var ja="\\ud800-\\udfff",tc="\\u0300-\\u036f",rc="\\ufe20-\\ufe2f",oc="\\u20d0-\\u20ff",nc=tc+rc+oc,ic="\\ufe0e\\ufe0f",ac="["+ja+"]",lo="["+nc+"]",fo="\\ud83c[\\udffb-\\udfff]",sc="(?:"+lo+"|"+fo+")",_a="[^"+ja+"]",va="(?:\\ud83c[\\udde6-\\uddff]){2}",xa="[\\ud800-\\udbff][\\udc00-\\udfff]",pc="\\u200d",Ta=sc+"?",Sa="["+ic+"]?",uc="(?:"+pc+"(?:"+[_a,va,xa].join("|")+")"+Sa+Ta+")*",lc=Sa+Ta+uc,fc="(?:"+[_a+lo+"?",lo,va,xa,ac].join("|")+")",Ia=RegExp(fo+"(?="+fo+")|"+fc+lc,"g");function dc(e){for(var t=Ia.lastIndex=0;Ia.test(e);)++t;return t}var Aa=dc;function cc(e){return st(e)?Aa(e):Pa(e)}var pr=cc;var mc=Math.ceil;function hc(e,t){t=t===void 0?" ":Vt(t);var r=t.length;if(r<2)return r?uo(t,e):t;var o=uo(t,mc(e/pr(t)));return st(t)?Pi(wi(o),0,e).join(""):o.slice(0,e)}var wa=hc;function gc(e,t,r){e=Nt(e),t=Kt(t);var o=t?pr(e):0;return t&&o<t?wa(t-o,r)+e:e}var Me=gc;var Oa=5*1e3,ur=class{constructor(t){d(this,"_cache",new Ie);d(this,"_keepHotUntapDebounce");se(this,t)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return j(this).propsP}get sheet(){return j(this).sheet.publicApi}get project(){return j(this).sheet.project.publicApi}get address(){return b({},j(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{let t=j(this);return g(()=>P(t.getValues().getValue()))})}onValuesChange(t,r){return lr(this._valuesPrism(),t,r)}get value(){let t=this._valuesPrism();if(Oa!=null){if(!t.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();let r=t.keepHot();this._keepHotUntapDebounce=ao(()=>{r(),this._keepHotUntapDebounce=void 0},Oa)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return t.getValue()}set initialValue(t){j(this).setInitialValue(t)}};function vt(e){return e.type==="compound"||e.type==="enum"}function xt(e,t){if(!e)return;let[r,...o]=t;if(r===void 0)return e;if(!vt(e))return;let n=e.type==="enum"?e.cases[r]:e.props[r];return xt(n,o)}function Ca(e){return!vt(e)}var Fv=new WeakMap;var fr=class{constructor(t,r,o){this.sheet=t;this.template=r;this.nativeObject=o;d(this,"$$isIdentityPrismProvider",!0);d(this,"address");d(this,"publicApi");d(this,"_initialValue",new I({}));d(this,"_cache",new Ie);d(this,"_logger");d(this,"_internalUtilCtx");this._logger=t._logger.named("SheetObject",r.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=E(b({},r.address),{sheetInstanceId:t.address.sheetInstanceId}),this.publicApi=new ur(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>g(()=>{let t=P(this.template.getDefaultValues()),r=P(this._initialValue.pointer),o=g.memo("withInitialCache",()=>new WeakMap,[]),n=nt(t,r,o),i=P(this.template.getStaticValues()),a=g.memo("withStatics",()=>new WeakMap,[]),u=nt(n,i,a),p;{let c=g.memo("seq",()=>this.getSequencedValues(),[]),h=g.memo("withSeqsCache",()=>new WeakMap,[]);p=P(P(c)),u=nt(u,p,h)}return Jn("finalAtom",u).pointer}))}getValueByPointer(t){let r=P(this.getValues()),{path:o}=xe(t);return P(Ne(r,o))}getIdentityPrism(t){return g(()=>{let r=P(this.getValues());return P(Ne(r,t))})}getSequencedValues(){return g(()=>{let t=g.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),r=P(t),o=new I({}),n=P(this.template.configPointer);return g.effect("processTracks",()=>{let i=[];for(let{trackId:a,pathToProp:s}of r){let u=this._trackIdToPrism(a),p=xt(n,s),l=p.deserializeAndSanitize,c=p.interpolate,h=()=>{let y=u.getValue();if(!y)return o.setByPointer(w=>Ne(w,s),void 0);let v=l(y.left),x=v===void 0?p.default:v;if(y.right===void 0)return o.setByPointer(w=>Ne(w,s),x);let _=l(y.right),T=_===void 0?p.default:_;return o.setByPointer(w=>Ne(w,s),c(x,T,y.progression))},f=u.onStale(h);h(),i.push(f)}return()=>{for(let a of i)a()}},[n,...r]),o.pointer})}_trackIdToPrism(t){let r=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[t],o=this.sheet.getSequence().positionPrism;return Yr(this._internalUtilCtx,r,o)}get propsP(){return this._cache.get("propsP",()=>de({root:this,path:[]}))}validateValue(t,r){}setInitialValue(t){this.validateValue(this.propsP,t),this._initialValue.set(t)}};function C(e){return function(r,o){return e(r,o())}}var M;(function(o){o[o.GENERAL=1]="GENERAL",o[o.TODO=2]="TODO",o[o.TROUBLESHOOTING=4]="TROUBLESHOOTING"})(M||(M={}));var R;(function(o){o[o.INTERNAL=8]="INTERNAL",o[o.DEV=16]="DEV",o[o.PUBLIC=32]="PUBLIC"})(R||(R={}));var S;(function(n){n[n.TRACE=64]="TRACE",n[n.DEBUG=128]="DEBUG",n[n.WARN=256]="WARN",n[n.ERROR=512]="ERROR"})(S||(S={}));var m;(function(f){f[f.ERROR_PUBLIC=545]="ERROR_PUBLIC",f[f.ERROR_DEV=529]="ERROR_DEV",f[f._HMM=524]="_HMM",f[f._TODO=522]="_TODO",f[f._ERROR=521]="_ERROR",f[f.WARN_PUBLIC=289]="WARN_PUBLIC",f[f.WARN_DEV=273]="WARN_DEV",f[f._KAPOW=268]="_KAPOW",f[f._WARN=265]="_WARN",f[f.DEBUG_DEV=145]="DEBUG_DEV",f[f._DEBUG=137]="_DEBUG",f[f.TRACE_DEV=81]="TRACE_DEV",f[f._TRACE=73]="_TRACE"})(m||(m={}));var Y={_hmm:X(524),_todo:X(522),_error:X(521),errorDev:X(529),errorPublic:X(545),_kapow:X(268),_warn:X(265),warnDev:X(273),warnPublic:X(289),_debug:X(137),debugDev:X(145),_trace:X(73),traceDev:X(81)};function X(e){return Object.freeze({audience:$e(e,8)?"internal":$e(e,16)?"dev":"public",category:$e(e,4)?"troubleshooting":$e(e,2)?"todo":"general",level:$e(e,512)?512:$e(e,256)?256:$e(e,128)?128:64})}function $e(e,t){return(e&t)===t}function k(e,t){return((t&32)==32?!0:(t&16)==16?e.dev:(t&8)==8?e.internal:!1)&&e.min<=t}var me={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,r){return this.create({names:[...e.names,{name:t,key:r}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var o,n,i,a;let t=this.cssMemo.get(e);if(t)return t;let r=`color:${(n=(o=this.color)==null?void 0:o.call(this,e))!=null?n:`hsl(${(e.charCodeAt(0)+e.charCodeAt(e.length-1))%360}, 100%, 60%)`}`;return((i=this.bold)==null?void 0:i.test(e))&&(r+=";font-weight:600"),((a=this.italic)==null?void 0:a.test(e))&&(r+=";font-style:italic"),this.cssMemo.set(e,r),r}}};function Tt(e=console,t={}){let r=E(b({},me),{includes:b({},me.includes)}),o={styled:Pc.bind(r,e),noStyle:_c.bind(r,e)},n=bc.bind(r);function i(){return r.loggingConsoleStyle&&r.loggerConsoleStyle?o.styled:o.noStyle}return r.create=i(),{configureLogger(a){var s;a==="console"?(r.loggerConsoleStyle=me.loggerConsoleStyle,r.create=i()):a.type==="console"?(r.loggerConsoleStyle=(s=a.style)!=null?s:me.loggerConsoleStyle,r.create=i()):a.type==="keyed"?(r.creatExt=u=>a.keyed(u.names),r.create=n):a.type==="named"&&(r.creatExt=yc.bind(null,a.named),r.create=n)},configureLogging(a){var s,u,p,l,c;r.includes.dev=(s=a.dev)!=null?s:me.includes.dev,r.includes.internal=(u=a.internal)!=null?u:me.includes.internal,r.includes.min=(p=a.min)!=null?p:me.includes.min,r.include=(l=a.include)!=null?l:me.include,r.loggingConsoleStyle=(c=a.consoleStyle)!=null?c:me.loggingConsoleStyle,r.create=i()},getLogger(){return r.create({names:[]})}}}function yc(e,t){let r=[];for(let{name:o,key:n}of t.names)r.push(n==null?o:`${o} (${n})`);return e(r)}function bc(e){let t=b(b({},this.includes),this.include(e)),r=this.filtered,o=this.named.bind(this,e),n=this.creatExt(e),i=k(t,524),a=k(t,522),s=k(t,521),u=k(t,529),p=k(t,545),l=k(t,265),c=k(t,268),h=k(t,273),f=k(t,289),y=k(t,137),v=k(t,145),x=k(t,73),_=k(t,81),T=i?n.error.bind(n,Y._hmm):r.bind(e,524),w=a?n.error.bind(n,Y._todo):r.bind(e,522),$=s?n.error.bind(n,Y._error):r.bind(e,521),B=u?n.error.bind(n,Y.errorDev):r.bind(e,529),A=p?n.error.bind(n,Y.errorPublic):r.bind(e,545),F=c?n.warn.bind(n,Y._kapow):r.bind(e,268),G=l?n.warn.bind(n,Y._warn):r.bind(e,265),ie=h?n.warn.bind(n,Y.warnDev):r.bind(e,273),Ae=f?n.warn.bind(n,Y.warnPublic):r.bind(e,273),we=y?n.debug.bind(n,Y._debug):r.bind(e,137),Oe=v?n.debug.bind(n,Y.debugDev):r.bind(e,145),Ce=x?n.trace.bind(n,Y._trace):r.bind(e,73),ke=_?n.trace.bind(n,Y.traceDev):r.bind(e,81),V={_hmm:T,_todo:w,_error:$,errorDev:B,errorPublic:A,_kapow:F,_warn:G,warnDev:ie,warnPublic:Ae,_debug:we,debugDev:Oe,_trace:Ce,traceDev:ke,lazy:{_hmm:i?C(T):T,_todo:a?C(w):w,_error:s?C($):$,errorDev:u?C(B):B,errorPublic:p?C(A):A,_kapow:c?C(F):F,_warn:l?C(G):G,warnDev:h?C(ie):ie,warnPublic:f?C(Ae):Ae,_debug:y?C(we):we,debugDev:v?C(Oe):Oe,_trace:x?C(Ce):Ce,traceDev:_?C(ke):ke},named:o,utilFor:{internal(){return{debug:V._debug,error:V._error,warn:V._warn,trace:V._trace,named(K,O){return V.named(K,O).utilFor.internal()}}},dev(){return{debug:V.debugDev,error:V.errorDev,warn:V.warnDev,trace:V.traceDev,named(K,O){return V.named(K,O).utilFor.dev()}}},public(){return{error:V.errorPublic,warn:V.warnPublic,debug(K,O){V._warn(`(public "debug" filtered out) ${K}`,O)},trace(K,O){V._warn(`(public "trace" filtered out) ${K}`,O)},named(K,O){return V.named(K,O).utilFor.public()}}}}};return V}function Pc(e,t){let r=b(b({},this.includes),this.include(t)),o=[],n="";for(let u=0;u<t.names.length;u++){let{name:p,key:l}=t.names[u];if(n+=` %c${p}`,o.push(this.style.css(p)),l!=null){let c=`%c#${l}`;n+=c,o.push(this.style.css(c))}}let i=this.filtered,a=this.named.bind(this,t),s=[n,...o];return ka(i,t,r,e,s,jc(s),a)}function jc(e){let t=e.slice(0);for(let r=1;r<t.length;r++)t[r]+=";background-color:#e0005a;padding:2px;color:white";return t}function _c(e,t){let r=b(b({},this.includes),this.include(t)),o="";for(let s=0;s<t.names.length;s++){let{name:u,key:p}=t.names[s];o+=` ${u}`,p!=null&&(o+=`#${p}`)}let n=this.filtered,i=this.named.bind(this,t),a=[o];return ka(n,t,r,e,a,a,i)}function ka(e,t,r,o,n,i,a){let s=k(r,524),u=k(r,522),p=k(r,521),l=k(r,529),c=k(r,545),h=k(r,265),f=k(r,268),y=k(r,273),v=k(r,289),x=k(r,137),_=k(r,145),T=k(r,73),w=k(r,81),$=s?o.error.bind(o,...n):e.bind(t,524),B=u?o.error.bind(o,...n):e.bind(t,522),A=p?o.error.bind(o,...n):e.bind(t,521),F=l?o.error.bind(o,...n):e.bind(t,529),G=c?o.error.bind(o,...n):e.bind(t,545),ie=f?o.warn.bind(o,...i):e.bind(t,268),Ae=h?o.warn.bind(o,...n):e.bind(t,265),we=y?o.warn.bind(o,...n):e.bind(t,273),Oe=v?o.warn.bind(o,...n):e.bind(t,273),Ce=x?o.info.bind(o,...n):e.bind(t,137),ke=_?o.info.bind(o,...n):e.bind(t,145),V=T?o.debug.bind(o,...n):e.bind(t,73),K=w?o.debug.bind(o,...n):e.bind(t,81),O={_hmm:$,_todo:B,_error:A,errorDev:F,errorPublic:G,_kapow:ie,_warn:Ae,warnDev:we,warnPublic:Oe,_debug:Ce,debugDev:ke,_trace:V,traceDev:K,lazy:{_hmm:s?C($):$,_todo:u?C(B):B,_error:p?C(A):A,errorDev:l?C(F):F,errorPublic:c?C(G):G,_kapow:f?C(ie):ie,_warn:h?C(Ae):Ae,warnDev:y?C(we):we,warnPublic:v?C(Oe):Oe,_debug:x?C(Ce):Ce,debugDev:_?C(ke):ke,_trace:T?C(V):V,traceDev:w?C(K):K},named:a,utilFor:{internal(){return{debug:O._debug,error:O._error,warn:O._warn,trace:O._trace,named(pe,ue){return O.named(pe,ue).utilFor.internal()}}},dev(){return{debug:O.debugDev,error:O.errorDev,warn:O.warnDev,trace:O.traceDev,named(pe,ue){return O.named(pe,ue).utilFor.dev()}}},public(){return{error:O.errorPublic,warn:O.warnPublic,debug(pe,ue){O._warn(`(public "debug" filtered out) ${pe}`,ue)},trace(pe,ue){O._warn(`(public "trace" filtered out) ${pe}`,ue)},named(pe,ue){return O.named(pe,ue).utilFor.public()}}}}};return O}var Da=Tt(console,{_debug:function(){},_error:function(){}});Da.configureLogging({dev:!0,min:S.TRACE});var lt=Da.getLogger().named("Theatre.js (default logger)").utilFor.dev();var Ra=new WeakMap;function co(e){let t=Ra.get(e);if(t)return t;let r=new Map;return Ra.set(e,r),Ea([],e,r),r}function Ea(e,t,r){for(let[o,n]of Object.entries(t.props))if(!vt(n)){let i=[...e,o];r.set(JSON.stringify(i),r.size),Va(i,n,r)}for(let[o,n]of Object.entries(t.props))if(vt(n)){let i=[...e,o];r.set(JSON.stringify(i),r.size),Va(i,n,r)}}function Va(e,t,r){if(t.type==="compound")Ea(e,t,r);else{if(t.type==="enum")throw new Error("Enums aren't supported yet");r.set(JSON.stringify(e),r.size)}}var dr=class{constructor(t,r,o,n,i){this.sheetTemplate=t;d(this,"address");d(this,"type","Theatre_SheetObjectTemplate");d(this,"_config");d(this,"_actions");d(this,"_cache",new Ie);d(this,"project");this.address=E(b({},t.address),{objectKey:r}),this._config=new I(n),this._actions=new I(i),this.project=t.project}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get staticActions(){return this._actions.get()}get actionsPointer(){return this._actions.pointer}createInstance(t,r,o){return this._config.set(o),new fr(t,this,r)}reconfigure(t){this._config.set(t)}registerAction(t,r){this._actions.setByPointer(o=>o[t],r)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>g(()=>{let t=P(this.configPointer);return Hr(t)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>g(()=>{var i;let t=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],r=(i=P(t.staticOverrides.byObject[this.address.objectKey]))!=null?i:{};return P(this.configPointer).deserializeAndSanitize(r)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>g(()=>{let t=this.project.pointers.historic.sheetsById[this.address.sheetId],r=P(t.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!r)return Wt;let o=[];if(!r)return Wt;let n=P(this.configPointer),i=Object.entries(r);for(let[s,u]of i){let p=vc(s);if(!p)continue;let l=xt(n,p);!(l&&Ca(l))||o.push({pathToProp:p,trackId:u})}let a=co(n);return o.sort((s,u)=>{let p=s.pathToProp,l=u.pathToProp,c=a.get(JSON.stringify(p)),h=a.get(JSON.stringify(l));return c>h?1:-1}),o.length===0?Wt:o}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>g(()=>{let t=P(this.getArrayOfValidSequenceTracks()),r={};for(let{pathToProp:o,trackId:n}of t)qn(r,o,n);return r}))}getDefaultsAtPointer(t){let{path:r}=xe(t),o=this.getDefaultValues().getValue();return Wr(o,r)}};function vc(e){try{return JSON.parse(e)}catch(t){lt.warn(`property ${JSON.stringify(e)} cannot be parsed. Skipping.`);return}}var Sc=kt(Ba());var Fa=class extends Error{},ee=class extends Fa{};function te(){let e,t,r=new Promise((n,i)=>{e=a=>{n(a),o.status="resolved"},t=a=>{i(a),o.status="rejected"}}),o={resolve:e,reject:t,promise:r,status:"pending"};return o}var Ic=()=>{},ft=Ic;var mr=class{constructor(){d(this,"_stopPlayCallback",ft);d(this,"_state",new I({position:0,playing:!1}));d(this,"statePointer");this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=ft}gotoPosition(t){this._updatePositionInState(t)}_updatePositionInState(t){this._state.setByPointer(r=>r.position,t)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(t){this._state.setByPointer(r=>r.playing,t)}play(t,r,o,n,i){this.playing&&this.pause(),this.playing=!0;let a=r[1]-r[0];{let f=this.getCurrentPosition();f<r[0]||f>r[1]?n==="normal"||n==="alternate"?this._updatePositionInState(r[0]):(n==="reverse"||n==="alternateReverse")&&this._updatePositionInState(r[1]):n==="normal"||n==="alternate"?f===r[1]&&this._updatePositionInState(r[0]):f===r[0]&&this._updatePositionInState(r[1])}let s=te(),u=i.time,p=a*t,l=this.getCurrentPosition()-r[0];(n==="reverse"||n==="alternateReverse")&&(l=r[1]-this.getCurrentPosition());let c=f=>{let v=Math.max(f-u,0)/1e3,x=Math.min(v*o+l,p);if(x!==p){let _=Math.floor(x/a),T=x/a%1*a;if(n!=="normal")if(n==="reverse")T=a-T;else{let w=_%2==0;n==="alternate"?w||(T=a-T):w&&(T=a-T)}this._updatePositionInState(T+r[0]),h()}else{if(n==="normal")this._updatePositionInState(r[1]);else if(n==="reverse")this._updatePositionInState(r[0]);else{let _=(t-1)%2==0;n==="alternate"?_?this._updatePositionInState(r[1]):this._updatePositionInState(r[0]):_?this._updatePositionInState(r[0]):this._updatePositionInState(r[1])}this.playing=!1,s.resolve(!0)}};this._stopPlayCallback=()=>{i.offThisOrNextTick(c),i.offNextTick(c),this.playing&&s.resolve(!1)};let h=()=>i.onNextTick(c);return i.onThisOrNextTick(c),s.promise}playDynamicRange(t,r){this.playing&&this.pause(),this.playing=!0;let o=te(),n=t.keepHot();o.promise.then(n,n);let i=r.time,a=u=>{let p=Math.max(u-i,0);i=u;let l=p/1e3,c=this.getCurrentPosition(),h=t.getValue();if(c<h[0]||c>h[1])this.gotoPosition(h[0]);else{let f=c+l;f>h[1]&&(f=h[0]+(f-h[1])),this.gotoPosition(f)}s()};this._stopPlayCallback=()=>{r.offThisOrNextTick(a),r.offNextTick(a),o.resolve(!1)};let s=()=>r.onNextTick(a);return r.onThisOrNextTick(a),o.promise}};var Ua="__TheatreJS_StudioBundle",hr="__TheatreJS_CoreBundle",za="__TheatreJS_Notifications";var gr=e=>(...t)=>{var r;switch(e){case"success":{lt.debug(t.slice(0,2).join(`
`));break}case"info":{lt.debug(t.slice(0,2).join(`
`));break}case"warning":{lt.warn(t.slice(0,2).join(`
`));break}case"error":}return typeof window!="undefined"?(r=window[za])==null?void 0:r.notify[e](...t):void 0},ne={warning:gr("warning"),success:gr("success"),info:gr("info"),error:gr("error")};typeof window!="undefined"&&(window.addEventListener("error",e=>{ne.error("An error occurred",`<pre>${e.message}</pre>

See **console** for details.`)}),window.addEventListener("unhandledrejection",e=>{ne.error("An error occurred",`<pre>${e.reason}</pre>

See **console** for details.`)}));var yr=class{constructor(t,r,o){this._decodedBuffer=t;this._audioContext=r;this._nodeDestination=o;d(this,"_mainGain");d(this,"_state",new I({position:0,playing:!1}));d(this,"statePointer");d(this,"_stopPlayCallback",ft);this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(t,r){let o=te();this._playing&&this.pause(),this._playing=!0;let n,i=()=>{n==null||n(),n=this._loopInRange(t.getValue(),r).stop},a=t.onStale(i);return i(),this._stopPlayCallback=()=>{n==null||n(),a(),o.resolve(!1)},o.promise}_loopInRange(t,r){let o=1,n=this.getCurrentPosition(),i=t[1]-t[0];n<t[0]||n>t[1]?this._updatePositionInState(t[0]):n===t[1]&&this._updatePositionInState(t[0]),n=this.getCurrentPosition();let a=this._audioContext.createBufferSource();a.buffer=this._decodedBuffer,a.connect(this._mainGain),a.playbackRate.value=o,a.loop=!0,a.loopStart=t[0],a.loopEnd=t[1];let s=r.time,u=n-t[0];a.start(0,n);let p=h=>{let x=(Math.max(h-s,0)/1e3*o+u)/i%1*i;this._updatePositionInState(x+t[0]),l()},l=()=>r.onNextTick(p);return r.onThisOrNextTick(p),{stop:()=>{a.stop(),a.disconnect(),r.offThisOrNextTick(p),r.offNextTick(p)}}}get _playing(){return this._state.get().playing}set _playing(t){this._state.setByPointer(r=>r.playing,t)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=ft}gotoPosition(t){this._updatePositionInState(t)}_updatePositionInState(t){this._state.reduce(r=>E(b({},r),{position:t}))}getCurrentPosition(){return this._state.get().position}play(t,r,o,n,i){this._playing&&this.pause(),this._playing=!0;let a=this.getCurrentPosition(),s=r[1]-r[0];if(n!=="normal")throw new ee(`Audio-controlled sequences can only be played in the "normal" direction. '${n}' given.`);a<r[0]||a>r[1]?this._updatePositionInState(r[0]):a===r[1]&&this._updatePositionInState(r[0]),a=this.getCurrentPosition();let u=te(),p=this._audioContext.createBufferSource();p.buffer=this._decodedBuffer,p.connect(this._mainGain),p.playbackRate.value=o,t>1e3&&(ne.warning("Can't play sequences with audio more than 1000 times",`The sequence will still play, but only 1000 times. The \`iterationCount: ${t}\` provided to \`sequence.play()\`
is too high for a sequence with audio.

To fix this, either set \`iterationCount\` to a lower value, or remove the audio from the sequence.`,[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),t=1e3),t>1&&(p.loop=!0,p.loopStart=r[0],p.loopEnd=r[1]);let l=i.time,c=a-r[0],h=s*t;p.start(0,a,h-c);let f=x=>{let T=Math.max(x-l,0)/1e3,w=Math.min(T*o+c,h);if(w!==h){let $=w/s%1*s;this._updatePositionInState($+r[0]),v()}else this._updatePositionInState(r[1]),this._playing=!1,y(),u.resolve(!0)},y=()=>{p.stop(),p.disconnect()};this._stopPlayCallback=()=>{y(),i.offThisOrNextTick(f),i.offNextTick(f),this._playing&&u.resolve(!1)};let v=()=>i.onNextTick(f);return i.onThisOrNextTick(f),u.promise}};var qa=0;function St(e){var i;let t=a=>{r.tick(a)},r=new tt({onActive(){var a;(a=e==null?void 0:e.start)==null||a.call(e)},onDormant(){var a;(a=e==null?void 0:e.stop)==null||a.call(e)}}),o={tick:t,id:qa++,name:(i=e==null?void 0:e.name)!=null?i:`CustomRafDriver-${qa}`,type:"Theatre_RafDriver_PublicAPI"},n={type:"Theatre_RafDriver_PrivateAPI",publicApi:o,ticker:r,start:e==null?void 0:e.start,stop:e==null?void 0:e.stop};return se(o,n),o}function Ac(){let e=null,o=St({name:"DefaultCoreRafDriver",start:()=>{if(typeof window!="undefined"){let n=i=>{o.tick(i),e=window.requestAnimationFrame(n)};e=window.requestAnimationFrame(n)}else o.tick(0),setTimeout(()=>o.tick(1),0)},stop:()=>{typeof window!="undefined"&&e!==null&&window.cancelAnimationFrame(e)}});return o}var br;function ho(){return br||wc(Ac()),br}function Pr(){return ho().ticker}function wc(e){if(br)throw new Error("`setCoreRafDriver()` is already called.");br=j(e)}var jr=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(t){se(this,t)}play(t){let r=j(this);if(r._project.isReady()){let o=(t==null?void 0:t.rafDriver)?j(t.rafDriver).ticker:Pr();return r.play(t!=null?t:{},o)}else{let o=te();return o.resolve(!0),o.promise}}pause(){j(this).pause()}get position(){return j(this).position}set position(t){j(this).position=t}async attachAudio(t){let{audioContext:r,destinationNode:o,decodedBuffer:n,gainNode:i}=await Oc(t),a=new yr(n,r,i);return j(this).replacePlaybackController(a),{audioContext:r,destinationNode:o,decodedBuffer:n,gainNode:i}}get pointer(){return j(this).pointer}};async function Oc(e){function t(){if(e.audioContext)return Promise.resolve(e.audioContext);let p=new AudioContext;return p.state==="running"||typeof window=="undefined"?Promise.resolve(p):new Promise(l=>{let c=()=>{p.resume()},h=["mousedown","keydown","touchstart"],f={capture:!0,passive:!1};h.forEach(y=>{window.addEventListener(y,c,f)}),p.addEventListener("statechange",()=>{p.state==="running"&&(h.forEach(y=>{window.removeEventListener(y,c,f)}),l(p))})})}async function r(){if(e.source instanceof AudioBuffer)return e.source;let p=te();if(typeof e.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let l;try{l=await fetch(e.source)}catch(y){throw console.error(y),new Error(`Could not fetch '${e.source}'. Network error logged above.`)}let c;try{c=await l.arrayBuffer()}catch(y){throw console.error(y),new Error(`Could not read '${e.source}' as an arrayBuffer.`)}(await o).decodeAudioData(c,p.resolve,p.reject);let f;try{f=await p.promise}catch(y){throw console.error(y),new Error(`Could not decode ${e.source} as an audio file.`)}return f}let o=t(),n=r(),[i,a]=await Promise.all([o,n]),s=e.destinationNode||i.destination,u=i.createGain();return u.connect(s),{audioContext:i,decodedBuffer:a,gainNode:u,destinationNode:s}}var _r=class{constructor(t,r,o,n,i){this._project=t;this._sheet=r;this._lengthD=o;this._subUnitsPerUnitD=n;d(this,"address");d(this,"publicApi");d(this,"_playbackControllerBox");d(this,"_prismOfStatePointer");d(this,"_positionD");d(this,"_positionFormatterD");d(this,"_playableRangeD");d(this,"pointer",de({root:this,path:[]}));d(this,"$$isIdentityPrismProvider",!0);d(this,"_logger");d(this,"closestGridPosition",t=>{let r=this.subUnitsPerUnit,o=1/r;return parseFloat((Math.round(t/o)*o).toFixed(3))});this._logger=t._logger.named("Sheet",r.address.sheetId).named("Instance",r.address.sheetInstanceId),this.address=E(b({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new jr(this),this._playbackControllerBox=new I(i!=null?i:new mr),this._prismOfStatePointer=g(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=g(()=>{let a=this._prismOfStatePointer.getValue();return P(a.position)}),this._positionFormatterD=g(()=>{let a=P(this._subUnitsPerUnitD);return new Wa(a)})}getIdentityPrism(t){if(t.length===0)return g(()=>({length:P(this.pointer.length),playing:P(this.pointer.playing),position:P(this.pointer.position)}));if(t.length>1)return g(()=>{});let[r]=t;return r==="length"?this._lengthD:r==="position"?this._positionD:r==="playing"?g(()=>P(this._prismOfStatePointer.getValue().playing)):g(()=>{})}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(t){let r=t;this.pause(),r>this.length&&(r=this.length);let o=this.length;this._playbackControllerBox.get().gotoPosition(r>o?o:r)}getDurationCold(){return this._lengthD.getValue()}get playing(){return P(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return g(()=>[0,P(this._lengthD)])}playDynamicRange(t,r){return this._playbackControllerBox.get().playDynamicRange(t,r)}async play(t,r){let o=this.length,n=t&&t.range?t.range:[0,o],i=t&&typeof t.iterationCount=="number"?t.iterationCount:1,a=t&&typeof t.rate!="undefined"?t.rate:1,s=t&&t.direction?t.direction:"normal";return await this._play(i,[n[0],n[1]],a,s,r)}_play(t,r,o,n,i){return this._playbackControllerBox.get().play(t,r,o,n,i)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(t){this.pause();let r=this._playbackControllerBox.get();this._playbackControllerBox.set(t);let o=r.getCurrentPosition();r.destroy(),t.gotoPosition(o)}},Wa=class{constructor(t){this._fps=t}formatSubUnitForGrid(t){let r=t%1,o=1/this._fps;return Math.round(r/o)+"f"}formatFullUnitForGrid(t){let r=t,o="";r>=dt&&(o+=Math.floor(r/dt)+"h",r=r%dt),r>=Fe&&(o+=Math.floor(r/Fe)+"m",r=r%Fe),r>=Be&&(o+=Math.floor(r/Be)+"s",r=r%Be);let n=1/this._fps;return r>=n&&(o+=Math.floor(r/n)+"f",r=r%n),o.length===0?"0s":o}formatForPlayhead(t){let r=t,o="";if(r>=dt){let i=Math.floor(r/dt);o+=Me(i.toString(),2,"0")+"h",r=r%dt}if(r>=Fe){let i=Math.floor(r/Fe);o+=Me(i.toString(),2,"0")+"m",r=r%Fe}else o.length>0&&(o+="00m");if(r>=Be){let i=Math.floor(r/Be);o+=Me(i.toString(),2,"0")+"s",r=r%Be}else o+="00s";let n=1/this._fps;if(r>=n){let i=Math.round(r/n);o+=Me(i.toString(),2,"0")+"f",r=r%n}else r/n>.98?(o+=Me(1 .toString(),2,"0")+"f",r=r%n):o+="00f";return o.length===0?"00s00f":o}formatBasic(t){return t.toFixed(2)+"s"}},Be=1,Fe=Be*60,dt=Fe*60;var Sr={};$r(Sr,{boolean:()=>Po,compound:()=>It,image:()=>Vc,number:()=>bo,rgba:()=>Bc,string:()=>jo,stringLiteral:()=>Wc});function vr(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var Cc=e=>typeof e=="string"?`string("${vr(e,10)}")`:typeof e=="number"?`number(${vr(String(e),10)})`:e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",ct=Cc;function kc(e,{removeAlphaIfOpaque:t=!1}={}){let r=(e.a*255|1<<8).toString(16).slice(1);return`#${(e.r*255|1<<8).toString(16).slice(1)+(e.g*255|1<<8).toString(16).slice(1)+(e.b*255|1<<8).toString(16).slice(1)+(t&&r==="ff"?"":r)}`}function xr(e){return E(b({},e),{toString(){return kc(this,{removeAlphaIfOpaque:!0})}})}function Dc(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,_t(r,0,1)]))}function Ga(e){function t(r){return r>=.0031308?1.055*r**(1/2.4)-.055:12.92*r}return Dc({r:t(e.r),g:t(e.g),b:t(e.b),a:e.a})}function go(e){function t(r){return r>=.04045?((r+.055)/(1+.055))**2.4:r/12.92}return{r:t(e.r),g:t(e.g),b:t(e.b),a:e.a}}function yo(e){let t=.4122214708*e.r+.5363325363*e.g+.0514459929*e.b,r=.2119034982*e.r+.6806995451*e.g+.1073969566*e.b,o=.0883024619*e.r+.2817188376*e.g+.6299787005*e.b,n=Math.cbrt(t),i=Math.cbrt(r),a=Math.cbrt(o);return{L:.2104542553*n+.793617785*i-.0040720468*a,a:1.9779984951*n-2.428592205*i+.4505937099*a,b:.0259040371*n+.7827717662*i-.808675766*a,alpha:e.a}}function Ka(e){let t=e.L+.3963377774*e.a+.2158037573*e.b,r=e.L-.1055613458*e.a-.0638541728*e.b,o=e.L-.0894841775*e.a-1.291485548*e.b,n=t*t*t,i=r*r*r,a=o*o*o;return{r:4.0767416621*n-3.3077115913*i+.2309699292*a,g:-1.2684380046*n+2.6097574011*i-.3413193965*a,b:-.0041960863*n-.7034186147*i+1.707614701*a,a:e.alpha}}var he=Symbol("TheatrePropType_Basic");function Ha(e){return typeof e=="object"&&!!e&&e[he]==="TheatrePropType"}function Rc(e){if(typeof e=="number")return bo(e);if(typeof e=="boolean")return Po(e);if(typeof e=="string")return jo(e);if(typeof e=="object"&&!!e){if(Ha(e))return e;if(bt(e))return It(e);throw new ee(`This value is not a valid prop type: ${ct(e)}`)}else throw new ee(`This value is not a valid prop type: ${ct(e)}`)}function Ja(e){let t={};for(let r of Object.keys(e)){let o=e[r];Ha(o)?t[r]=o:t[r]=Rc(o)}return t}var Ec=(e,t)=>{},It=(e,t={})=>{Ec("t.compound(props, opts)",t);let r=Ja(e),o=new WeakMap;return{type:"compound",props:r,valueType:null,[he]:"TheatrePropType",label:t.label,default:po(r,i=>i.default),deserializeAndSanitize:i=>{if(typeof i!="object"||!i)return;if(o.has(i))return o.get(i);let a={},s=!1;for(let[u,p]of Object.entries(r))if(Object.prototype.hasOwnProperty.call(i,u)){let l=p.deserializeAndSanitize(i[u]);l!=null&&(s=!0,a[u]=l)}if(o.set(i,a),s)return a}}},Vc=(e,t={})=>{let r=(o,n,i)=>{var s;let a=(s=t.interpolate)!=null?s:Tr;return{type:"image",id:a(o.id,n.id,i)}};return{type:"image",default:{type:"image",id:e},valueType:null,[he]:"TheatrePropType",label:t.label,interpolate:r,deserializeAndSanitize:Nc}},Nc=e=>{if(!e)return;let t=!0;if(typeof e.id!="string"&&![null,void 0].includes(e.id)&&(t=!1),e.type!=="image"&&(t=!1),!!t)return e},bo=(e,t={})=>{var r;return E(b({type:"number",valueType:0,default:e,[he]:"TheatrePropType"},t||{}),{label:t.label,nudgeFn:(r=t.nudgeFn)!=null?r:Gc,nudgeMultiplier:typeof t.nudgeMultiplier=="number"?t.nudgeMultiplier:void 0,interpolate:$c,deserializeAndSanitize:Lc(t.range)})},Lc=e=>e?t=>{if(!!(typeof t=="number"&&isFinite(t)))return _t(t,e[0],e[1])}:Mc,Mc=e=>typeof e=="number"&&isFinite(e)?e:void 0,$c=(e,t,r)=>e+r*(t-e),Bc=(e={r:0,g:0,b:0,a:1},t={})=>{let r={};for(let o of["r","g","b","a"])r[o]=Math.min(Math.max(e[o],0),1);return{type:"rgba",valueType:null,default:xr(r),[he]:"TheatrePropType",label:t.label,interpolate:Uc,deserializeAndSanitize:Fc}},Fc=e=>{if(!e)return;let t=!0;for(let o of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(e,o)||typeof e[o]!="number")&&(t=!1);if(!t)return;let r={};for(let o of["r","g","b","a"])r[o]=Math.min(Math.max(e[o],0),1);return xr(r)},Uc=(e,t,r)=>{let o=yo(go(e)),n=yo(go(t)),i={L:(1-r)*o.L+r*n.L,a:(1-r)*o.a+r*n.a,b:(1-r)*o.b+r*n.b,alpha:(1-r)*o.alpha+r*n.alpha},a=Ga(Ka(i));return xr(a)},Po=(e,t={})=>{var r;return{type:"boolean",default:e,valueType:null,[he]:"TheatrePropType",label:t.label,interpolate:(r=t.interpolate)!=null?r:Tr,deserializeAndSanitize:zc}},zc=e=>typeof e=="boolean"?e:void 0;function Tr(e){return e}var jo=(e,t={})=>{var r;return{type:"string",default:e,valueType:null,[he]:"TheatrePropType",label:t.label,interpolate:(r=t.interpolate)!=null?r:Tr,deserializeAndSanitize:qc}};function qc(e){return typeof e=="string"?e:void 0}function Wc(e,t,r={}){var o,n;return{type:"stringLiteral",default:e,valuesAndLabels:b({},t),[he]:"TheatrePropType",valueType:null,as:(o=r.as)!=null?o:"menu",label:r.label,interpolate:(n=r.interpolate)!=null?n:Tr,deserializeAndSanitize(i){if(typeof i=="string"&&Object.prototype.hasOwnProperty.call(t,i))return i}}}var Gc=({config:e,deltaX:t,deltaFraction:r,magnitude:o})=>{var i;let{range:n}=e;return console.log(t,r,e),!e.nudgeMultiplier&&n&&!n.includes(1/0)&&!n.includes(-1/0)?r*(n[1]-n[0])*o:t*o*((i=e.nudgeMultiplier)!=null?i:1)};var Kc=e=>e.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / "),Hc=e=>{if(typeof e!="string")return`it is not a string. (it is a ${typeof e})`;let t=e.split(/\//);if(t.length===0)return"it is empty.";for(let r=0;r<t.length;r++){let o=t[r].trim();if(o.length===0)return`the component #${r+1} is empty.`;if(o.length>64)return`the component '${o}' must have 64 characters or less.`}};function At(e,t){let r=Kc(e);return r}var kT=kt(_o());var ET=new WeakMap,Ir=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(t){se(this,t)}object(t,r,o){let n=j(this),i=At(t,"sheet.object"),a=n.getObject(i),s=null;if(a)return(o==null?void 0:o.actions)&&(Object.entries(o.actions).forEach(([u,p])=>{a.template.registerAction(u,p)}),console.log("registered actions",o.actions)),a.publicApi;{let u=It(r);return n.createObject(i,s,u,o==null?void 0:o.actions).publicApi}}get sequence(){return j(this).getSequence().publicApi}get project(){return j(this).project.publicApi}get address(){return b({},j(this).address)}detachObject(t){let r=j(this),o=At(t,`sheet.deleteObject("${t}")`);if(!r.getObject(o)){ne.warning(`Couldn't delete object "${o}"`,`There is no object with key "${o}".

To fix this, make sure you are calling \`sheet.deleteObject("${o}")\` with the correct key.`),console.warn(`Object key "${o}" does not exist.`);return}r.deleteObject(o)}};var Ar=class{constructor(t,r){this.template=t;this.instanceId=r;d(this,"_objects",new I({}));d(this,"_sequence");d(this,"address");d(this,"publicApi");d(this,"project");d(this,"objectsP",this._objects.pointer);d(this,"type","Theatre_Sheet");d(this,"_logger");this._logger=t.project._logger.named("Sheet",r),this._logger._trace("creating sheet"),this.project=t.project,this.address=E(b({},t.address),{sheetInstanceId:this.instanceId}),this.publicApi=new Ir(this)}createObject(t,r,o,n={}){let a=this.template.getObjectTemplate(t,r,o,n).createInstance(this,r,o);return this._objects.setByPointer(s=>s[t],a),a}getObject(t){return this._objects.get()[t]}deleteObject(t){this._objects.reduce(r=>{let o=b({},r);return delete o[t],o})}getSequence(){if(!this._sequence){let t=g(()=>{let o=P(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return Jc(o)}),r=g(()=>{let o=P(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return Yc(o)});this._sequence=new _r(this.template.project,this,t,r)}return this._sequence}},Jc=e=>typeof e=="number"&&isFinite(e)&&e>0?e:10,Yc=e=>typeof e=="number"&&so(e)&&e>=1&&e<=1e3?e:30;var wr=class{constructor(t,r){this.project=t;d(this,"type","Theatre_SheetTemplate");d(this,"address");d(this,"_instances",new I({}));d(this,"instancesP",this._instances.pointer);d(this,"_objectTemplates",new I({}));d(this,"objectTemplatesP",this._objectTemplates.pointer);this.address=E(b({},t.address),{sheetId:r})}getInstance(t){let r=this._instances.get()[t];return r||(r=new Ar(this,t),this._instances.setByPointer(o=>o[t],r)),r}getObjectTemplate(t,r,o,n){let i=this._objectTemplates.get()[t];return i||(i=new dr(this,t,r,o,n),this._objectTemplates.setByPointer(a=>a[t],i)),i}};var Xc=e=>new Promise(t=>setTimeout(t,e)),Xa=Xc;function re(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(!1)var n,i;throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ue(e){return!!e&&!!e[W]}function ze(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===im}(e)||Array.isArray(e)||!!e[ps]||!!e.constructor[ps]||xo(e)||To(e))}function Za(e){return Ue(e)||re(23,e),e[W].t}function wt(e,t,r){r===void 0&&(r=!1),mt(e)===0?(r?Object.keys:No)(e).forEach(function(o){r&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,n){return t(n,o,e)})}function mt(e){var t=e[W];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:xo(e)?2:To(e)?3:0}function vo(e,t){return mt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Zc(e,t){return mt(e)===2?e.get(t):e[t]}function Qa(e,t,r){var o=mt(e);o===2?e.set(t,r):o===3?(e.delete(t),e.add(r)):e[t]=r}function Qc(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function xo(e){return om&&e instanceof Map}function To(e){return nm&&e instanceof Set}function qe(e){return e.o||e.t}function So(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=am(e);delete t[W];for(var r=No(t),o=0;o<r.length;o++){var n=r[o],i=t[n];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[n]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[n]})}return Object.create(Object.getPrototypeOf(e),t)}function Io(e,t){return t===void 0&&(t=!1),Ao(e)||Ue(e)||!ze(e)||(mt(e)>1&&(e.set=e.add=e.clear=e.delete=em),Object.freeze(e),t&&wt(e,function(r,o){return Io(o,!0)},!0)),e}function em(){re(2)}function Ao(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ge(e){var t=sm[e];return t||re(18,e),t}function es(){return Ot}function wo(e,t){t&&(ge("Patches"),e.u=[],e.s=[],e.v=t)}function Or(e){Oo(e),e.p.forEach(tm),e.p=null}function Oo(e){e===Ot&&(Ot=e.l)}function ts(e){return Ot={p:[],l:Ot,h:e,m:!0,_:0}}function tm(e){var t=e[W];t.i===0||t.i===1?t.j():t.O=!0}function Co(e,t){t._=t.p.length;var r=t.p[0],o=e!==void 0&&e!==r;return t.h.g||ge("ES5").S(t,e,o),o?(r[W].P&&(Or(t),re(4)),ze(e)&&(e=Cr(t,e),t.l||kr(t,e)),t.u&&ge("Patches").M(r[W],e,t.u,t.s)):e=Cr(t,r,[]),Or(t),t.u&&t.v(t.u,t.s),e!==ss?e:void 0}function Cr(e,t,r){if(Ao(t))return t;var o=t[W];if(!o)return wt(t,function(i,a){return rs(e,o,t,i,a,r)},!0),t;if(o.A!==e)return t;if(!o.P)return kr(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var n=o.i===4||o.i===5?o.o=So(o.k):o.o;wt(o.i===3?new Set(n):n,function(i,a){return rs(e,o,n,i,a,r)}),kr(e,n,!1),r&&e.u&&ge("Patches").R(o,r,e.u,e.s)}return o.o}function rs(e,t,r,o,n,i){if(Ue(n)){var a=Cr(e,n,i&&t&&t.i!==3&&!vo(t.D,o)?i.concat(o):void 0);if(Qa(r,o,a),!Ue(a))return;e.m=!1}if(ze(n)&&!Ao(n)){if(!e.h.F&&e._<1)return;Cr(e,n),t&&t.A.l||kr(e,n)}}function kr(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Io(t,r)}function ko(e,t){var r=e[W];return(r?qe(r):e)[t]}function os(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Object.getPrototypeOf(r)}}function Do(e){e.P||(e.P=!0,e.l&&Do(e.l))}function Ro(e){e.o||(e.o=So(e.t))}function Eo(e,t,r){var o=xo(t)?ge("MapSet").N(t,r):To(t)?ge("MapSet").T(t,r):e.g?function(n,i){var a=Array.isArray(n),s={i:a?1:0,A:i?i.A:es(),P:!1,I:!1,D:{},l:i,t:n,k:null,o:null,j:null,C:!1},u=s,p=Dr;a&&(u=[s],p=Rr);var l=Proxy.revocable(u,p),c=l.revoke,h=l.proxy;return s.k=h,s.j=c,h}(t,r):ge("ES5").J(t,r);return(r?r.A:es()).p.push(o),o}function rm(e){return Ue(e)||re(22,e),function t(r){if(!ze(r))return r;var o,n=r[W],i=mt(r);if(n){if(!n.P&&(n.i<4||!ge("ES5").K(n)))return n.t;n.I=!0,o=ns(r,i),n.I=!1}else o=ns(r,i);return wt(o,function(a,s){n&&Zc(n.t,a)===s||Qa(o,a,t(s))}),i===3?new Set(o):o}(e)}function ns(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return So(e)}var is,Ot,Vo=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",om=typeof Map!="undefined",nm=typeof Set!="undefined",as=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",ss=Vo?Symbol.for("immer-nothing"):((is={})["immer-nothing"]=!0,is),ps=Vo?Symbol.for("immer-draftable"):"__$immer_draftable",W=Vo?Symbol.for("immer-state"):"__$immer_state",GT=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator";var im=""+Object.prototype.constructor,No=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,am=Object.getOwnPropertyDescriptors||function(e){var t={};return No(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},sm={},Dr={get:function(e,t){if(t===W)return e;var r=qe(e);if(!vo(r,t))return function(n,i,a){var s,u=os(i,a);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(n.k):void 0}(e,r,t);var o=r[t];return e.I||!ze(o)?o:o===ko(e.t,t)?(Ro(e),e.o[t]=Eo(e.A.h,o,e)):o},has:function(e,t){return t in qe(e)},ownKeys:function(e){return Reflect.ownKeys(qe(e))},set:function(e,t,r){var o=os(qe(e),t);if(o==null?void 0:o.set)return o.set.call(e.k,r),!0;if(!e.P){var n=ko(qe(e),t),i=n==null?void 0:n[W];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Qc(r,n)&&(r!==void 0||vo(e.t,t)))return!0;Ro(e),Do(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return ko(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Ro(e),Do(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=qe(e),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty:function(){re(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){re(12)}},Rr={};wt(Dr,function(e,t){Rr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Rr.deleteProperty=function(e,t){return Dr.deleteProperty.call(this,e[0],t)},Rr.set=function(e,t,r){return Dr.set.call(this,e[0],t,r,e[0])};var pm=function(){function e(r){var o=this;this.g=as,this.F=!0,this.produce=function(n,i,a){if(typeof n=="function"&&typeof i!="function"){var s=i;i=n;var u=o;return function(f){var y=this;f===void 0&&(f=s);for(var v=arguments.length,x=Array(v>1?v-1:0),_=1;_<v;_++)x[_-1]=arguments[_];return u.produce(f,function(T){var w;return(w=i).call.apply(w,[y,T].concat(x))})}}var p;if(typeof i!="function"&&re(6),a!==void 0&&typeof a!="function"&&re(7),ze(n)){var l=ts(o),c=Eo(o,n,void 0),h=!0;try{p=i(c),h=!1}finally{h?Or(l):Oo(l)}return typeof Promise!="undefined"&&p instanceof Promise?p.then(function(f){return wo(l,a),Co(f,l)},function(f){throw Or(l),f}):(wo(l,a),Co(p,l))}if(!n||typeof n!="object")return(p=i(n))===ss?void 0:(p===void 0&&(p=n),o.F&&Io(p,!0),p);re(21,n)},this.produceWithPatches=function(n,i){return typeof n=="function"?function(u){for(var p=arguments.length,l=Array(p>1?p-1:0),c=1;c<p;c++)l[c-1]=arguments[c];return o.produceWithPatches(u,function(h){return n.apply(void 0,[h].concat(l))})}:[o.produce(n,i,function(u,p){a=u,s=p}),a,s];var a,s},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){ze(r)||re(8),Ue(r)&&(r=rm(r));var o=ts(this),n=Eo(this,r,void 0);return n[W].C=!0,Oo(o),n},t.finishDraft=function(r,o){var n=r&&r[W],i=n.A;return wo(i,o),Co(void 0,i)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!as&&re(20),this.g=r},t.applyPatches=function(r,o){var n;for(n=o.length-1;n>=0;n--){var i=o[n];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}var a=ge("Patches").$;return Ue(r)?a(r,o):this.produce(r,function(s){return a(s,o.slice(n+1))})},e}(),Z=new pm,KT=Z.produce,HT=Z.produceWithPatches.bind(Z),JT=Z.setAutoFreeze.bind(Z),YT=Z.setUseProxies.bind(Z),XT=Z.applyPatches.bind(Z),ZT=Z.createDraft.bind(Z),QT=Z.finishDraft.bind(Z);var um={currentProjectStateDefinitionVersion:"0.4.0"},ht=um;async function Lo(e,t,r){await Xa(0),e.transaction(({drafts:o})=>{var l;let n=t.address.projectId;o.ephemeral.coreByProject[n]={lastExportedObject:null,loadingState:{type:"loading"}},o.ahistoric.coreByProject[n]={ahistoricStuff:""};function i(){o.ephemeral.coreByProject[n].loadingState={type:"loaded"},o.historic.coreByProject[n]={sheetsById:{},definitionVersion:ht.currentProjectStateDefinitionVersion,revisionHistory:[]}}function a(c){o.ephemeral.coreByProject[n].loadingState={type:"loaded"},o.historic.coreByProject[n]=c}function s(){o.ephemeral.coreByProject[n].loadingState={type:"loaded"}}function u(c){o.ephemeral.coreByProject[n].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:c}}let p=(l=Za(o.historic))==null?void 0:l.coreByProject[t.address.projectId];p?r&&p.revisionHistory.indexOf(r.revisionHistory[0])==-1?u(r):s():r?a(r):i()})}function us(){}function Er(e){var i,a;let t=((i=e==null?void 0:e.logging)==null?void 0:i.internal)?(a=e.logging.min)!=null?a:S.WARN:1/0,r=t<=S.DEBUG,o=t<=S.ERROR,n=Tt(void 0,{_debug:r?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):us,_error:o?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):us});if(e){let{logger:s,logging:u}=e;s&&n.configureLogger(s),u?n.configureLogging(u):n.configureLogging({dev:!1})}return n.getLogger().named("Theatre")}var Vr=class{constructor(t,r={},o){this.config=r;this.publicApi=o;d(this,"pointers");d(this,"_pointerProxies");d(this,"address");d(this,"_studioReadyDeferred");d(this,"_assetStorageReadyDeferred");d(this,"_readyPromise");d(this,"_sheetTemplates",new I({}));d(this,"sheetTemplatesP",this._sheetTemplates.pointer);d(this,"_studio");d(this,"assetStorage");d(this,"type","Theatre_Project");d(this,"_logger");var i;this._logger=Er({logging:{dev:!0}}).named("Project",t),this._logger.traceDev("creating project"),this.address={projectId:t};let n=new I({ahistoric:{ahistoricStuff:""},historic:(i=r.state)!=null?i:{sheetsById:{},definitionVersion:ht.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=te(),this.assetStorage={getAssetUrl:a=>{var s;return`${(s=r.assets)==null?void 0:s.baseUrl}/${a}`},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Ee(n.pointer.historic),ahistoric:new Ee(n.pointer.ahistoric),ephemeral:new Ee(n.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},rt.add(t,this),this._studioReadyDeferred=te(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),r.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window=="undefined"?console.error(`Argument config.state in Theatre.getProject("${t}", config) is empty. You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state`):setTimeout(()=>{if(!this._studio)throw new Error(`Argument config.state in Theatre.getProject("${t}", config) is empty. This is fine while you are using @theatre/core along with @theatre/studio. But since @theatre/studio is not loaded, the state of project "${t}" will be empty.

To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(t){if(this._studio){if(this._studio!==t)throw new Error(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);console.warn(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);return}this._studio=t,t.initialized.then(async()=>{var r;await Lo(t,this,this.config.state),this._pointerProxies.historic.setPointer(t.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(t.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(t.atomP.ephemeral.coreByProject[this.address.projectId]),t.createAssetStorage(this,(r=this.config.assets)==null?void 0:r.baseUrl).then(o=>{this.assetStorage=o,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(t,r="default"){let o=this._sheetTemplates.get()[t];return o||(o=new wr(this,t),this._sheetTemplates.reduce(n=>E(b({},n),{[t]:o}))),o.getInstance(r)}};var Nr=class{get type(){return"Theatre_Project_PublicAPI"}constructor(t,r={}){se(this,new Vr(t,r,this))}get ready(){return j(this).ready}get isReady(){return j(this).isReady()}get address(){return b({},j(this).address)}getAssetUrl(t){return t.id?j(this).assetStorage.getAssetUrl(t.id):void 0}sheet(t,r="default"){let o=At(t,"project.sheet");return j(this).getOrCreateSheet(o,r).publicApi}};var ES=kt(_o());function ls(e,t={}){let r=rt.get(e);if(r)return r.publicApi;let n=Er().named("Project",e);return t.state?(fm(e,t.state),n._debug("deep validated config.state on disk")):n._debug("no config.state"),new Nr(e,t)}var lm=(e,t)=>{if(Array.isArray(t)||t==null||t.definitionVersion!==ht.currentProjectStateDefinitionVersion)throw new ee(`Error validating conf.state in Theatre.getProject(${JSON.stringify(e)}, conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state`)},fm=(e,t)=>{lm(e,t)};function lr(e,t,r){let o=r?j(r).ticker:Pr();if(Te(e))return Re(e).onChange(o,t,!0);if(ve(e))return e.onChange(o,t,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function fs(e){if(Te(e))return Re(e).getValue();throw new Error("Called val(p) where p is not a pointer.")}var Lr=class{constructor(){d(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.6.0-dev.4"}getBitsForStudio(t,r){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=t;let o={projectsP:rt.atom.pointer.projects,privateAPI:j,coreExports:Mo,getCoreRafDriver:ho};r(o)}};dm();function dm(){if(typeof window=="undefined")return;let e=window[hr];if(typeof e!="undefined")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error(`The variable window.${hr} seems to be already set by a module other than @theatre/core.`);let t=new Lr;window[hr]=t;let r=window[Ua];r&&r!==null&&r.type==="Theatre_StudioBundle"&&r.registerCoreBundle(t)}window.Theatre={core:$o,get studio(){alert("Theatre.studio is only available in the core-and-studio.js bundle. You're using the core-only.min.js bundle.")}};})();
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
//# sourceMappingURL=core-only.min.js.map
